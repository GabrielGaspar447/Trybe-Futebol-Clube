{"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/app.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"4":{"start":{"line":7,"column":18},"end":{"line":7,"column":53}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"6":{"start":{"line":9,"column":22},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":18},"end":{"line":10,"column":38}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":44}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":22}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":22}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":28}},"12":{"start":{"line":19,"column":30},"end":{"line":24,"column":9}},"13":{"start":{"line":20,"column":12},"end":{"line":20,"column":59}},"14":{"start":{"line":21,"column":12},"end":{"line":21,"column":92}},"15":{"start":{"line":22,"column":12},"end":{"line":22,"column":60}},"16":{"start":{"line":23,"column":12},"end":{"line":23,"column":19}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":36}},"18":{"start":{"line":26,"column":8},"end":{"line":26,"column":47}},"19":{"start":{"line":29,"column":8},"end":{"line":29,"column":67}},"20":{"start":{"line":30,"column":8},"end":{"line":30,"column":67}},"21":{"start":{"line":31,"column":8},"end":{"line":31,"column":71}},"22":{"start":{"line":32,"column":8},"end":{"line":32,"column":79}},"23":{"start":{"line":35,"column":8},"end":{"line":35,"column":49}},"24":{"start":{"line":38,"column":8},"end":{"line":40,"column":11}},"25":{"start":{"line":39,"column":12},"end":{"line":39,"column":44}},"26":{"start":{"line":43,"column":0},"end":{"line":43,"column":18}},"27":{"start":{"line":45,"column":0},"end":{"line":45,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":18},"end":{"line":17,"column":5}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":13},"end":{"line":27,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":30},"end":{"line":19,"column":31}},"loc":{"start":{"line":19,"column":51},"end":{"line":24,"column":9}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":13},"end":{"line":33,"column":5}},"line":28},"5":{"name":"(anonymous_5)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":19},"end":{"line":36,"column":5}},"line":34},"6":{"name":"(anonymous_6)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":16},"end":{"line":41,"column":5}},"line":37},"7":{"name":"(anonymous_7)","decl":{"start":{"line":38,"column":30},"end":{"line":38,"column":31}},"loc":{"start":{"line":38,"column":36},"end":{"line":40,"column":9}},"line":38}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":66,"14":66,"15":66,"16":66,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":0,"25":0,"26":1,"27":1},"f":{"0":1,"1":1,"2":1,"3":66,"4":1,"5":1,"6":0,"7":0},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/app.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/app.ts"],"names":[],"mappings":";;;;;;AAAA,sDAA2C;AAC3C,gCAA8B;AAC9B,+CAA6C;AAC7C,uCAAuF;AAEvF,MAAM,GAAG;IAGP;QACE,IAAI,CAAC,GAAG,GAAG,IAAA,iBAAO,GAAE,CAAC;QACrB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAEO,MAAM;QACZ,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,mCAAmC,CAAC,CAAC;YAChF,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;QAEF,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;IAC/B,CAAC;IAEO,MAAM;QACZ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,qBAAW,EAAE,CAAC,MAAM,CAAC,CAAC;QACjD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,qBAAW,EAAE,CAAC,MAAM,CAAC,CAAC;QACjD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,uBAAa,EAAE,CAAC,MAAM,CAAC,CAAC;QACrD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,2BAAiB,EAAE,CAAC,MAAM,CAAC,CAAC;IAC/D,CAAC;IAEO,YAAY;QAClB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,0BAAY,CAAC,CAAC;IAC7B,CAAC;IAEM,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE;YACzB,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAEQ,kBAAG;AAEZ,8DAA8D;AAC/C,WAAG,GAAK,IAAI,GAAG,EAAE,KAAC","sourcesContent":["import express, { Express } from 'express';\nimport 'express-async-errors';\nimport { errorHandler } from './middlewares';\nimport { LoginRouter, ClubsRouter, MatchesRouter, LeaderboardRouter } from './routers';\n\nclass App {\n  public app: Express;\n\n  constructor() {\n    this.app = express();\n    this.config();\n    this.routes();\n    this.errorHandler();\n  }\n\n  private config():void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header('Access-Control-Allow-Origin', '*');\n      res.header('Access-Control-Allow-Methods', 'GET,POST,DELETE,OPTIONS,PUT,PATCH');\n      res.header('Access-Control-Allow-Headers', '*');\n      next();\n    };\n\n    this.app.use(accessControl);\n    this.app.use(express.json());\n  }\n\n  private routes(): void {\n    this.app.use('/login', new LoginRouter().router);\n    this.app.use('/clubs', new ClubsRouter().router);\n    this.app.use('/matches', new MatchesRouter().router);\n    this.app.use('/leaderboard', new LeaderboardRouter().router);\n  }\n\n  private errorHandler(): void {\n    this.app.use(errorHandler);\n  }\n\n  public start(PORT: string | number): void {\n    this.app.listen(PORT, () => {\n      console.log('Running on', PORT);\n    });\n  }\n}\n\nexport { App };\n\n// A execução dos testes de cobertura depende dessa exportação\nexport const { app } = new App();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"48ed4887ba400768cf45cbbfe3f7d2a9f88e13c1","contentHash":"4aa7cdf94533baf90b156db7b5059f9866e745d9bd024bad656cc2e2102e85b6"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/index.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":126}},"10":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"11":{"start":{"line":10,"column":95},"end":{"line":10,"column":126}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":60}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":55}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":60}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":50},"end":{"line":9,"column":51}},"loc":{"start":{"line":9,"column":71},"end":{"line":11,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"type":"binary-expr","locations":[{"start":{"line":9,"column":20},"end":{"line":9,"column":24}},{"start":{"line":9,"column":28},"end":{"line":9,"column":45}},{"start":{"line":9,"column":50},"end":{"line":11,"column":1}}],"line":9},"5":{"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"type":"if","locations":[{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},{"start":{"line":10,"column":21},"end":{"line":10,"column":126}}],"line":10},"6":{"loc":{"start":{"line":10,"column":25},"end":{"line":10,"column":93}},"type":"binary-expr","locations":[{"start":{"line":10,"column":25},"end":{"line":10,"column":40}},{"start":{"line":10,"column":44},"end":{"line":10,"column":93}}],"line":10}},"s":{"0":1,"1":3,"2":3,"3":3,"4":5,"5":0,"6":0,"7":0,"8":1,"9":3,"10":3,"11":3,"12":1,"13":1,"14":1,"15":1},"f":{"0":3,"1":5,"2":0,"3":3},"b":{"0":[1,1,1],"1":[1,0],"2":[3,0],"3":[0,0],"4":[1,1,1],"5":[3,0],"6":[3,3]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/index.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/index.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,4DAA0C;AAC1C,uDAAqC;AACrC,4DAA0C","sourcesContent":["export * from './errorHandler.middleware';\nexport * from './jwtAuth.middleware';\nexport * from './validateBody.middleware';\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3e30e2e270ab4e4029b44cdf67c5901cd76817e0","contentHash":"35d3cf796cadaa505f508b1ec594601ba821a71f387c642244cc449a7e0ac77a"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/errorHandler.middleware.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/errorHandler.middleware.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":21},"end":{"line":10,"column":1}},"3":{"start":{"line":5,"column":4},"end":{"line":5,"column":23}},"4":{"start":{"line":6,"column":4},"end":{"line":8,"column":5}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":72}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":98}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":21},"end":{"line":4,"column":22}},"loc":{"start":{"line":4,"column":50},"end":{"line":10,"column":1}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":4},"end":{"line":8,"column":5}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":8,"column":5}},{"start":{"line":6,"column":4},"end":{"line":8,"column":5}}],"line":6},"1":{"loc":{"start":{"line":6,"column":8},"end":{"line":6,"column":91}},"type":"binary-expr","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":36}},{"start":{"line":6,"column":40},"end":{"line":6,"column":91}}],"line":6}},"s":{"0":1,"1":1,"2":1,"3":2,"4":2,"5":1,"6":1,"7":1},"f":{"0":2},"b":{"0":[1,1],"1":[2,1]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/errorHandler.middleware.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/errorHandler.middleware.ts"],"names":[],"mappings":";;;AAEO,MAAM,YAAY,GAAG,CAAC,KAAc,EAAE,IAAa,EAAE,GAAa,EAAE,KAAmB,EAAE,EAAE;IAChG,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IAEnB,IAAI,KAAK,YAAY,WAAW,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,2BAA2B,CAAC,EAAE;QACvF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,qBAAqB,EAAE,CAAC,CAAC;KACjE;IAED,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,mDAAmD,EAAE,CAAC,CAAC;AAChG,CAAC,CAAC;AARW,QAAA,YAAY,gBAQvB","sourcesContent":["import { NextFunction, Request, Response } from 'express';\n\nexport const errorHandler = (error: unknown, _req: Request, res: Response, _next: NextFunction) => {\n  console.log(error);\n\n  if (error instanceof SyntaxError && error.message.includes('Unexpected string in JSON')) {\n    return res.status(400).json({ message: 'Invalid body syntax' });\n  }\n\n  return res.status(500).json({ message: 'Something went wrong here, please try again later' });\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"13f9dc0cf96532eed35d995f4a3b5ad7a4af1c3a","contentHash":"a16b210e68782a651afebf1b3fe0b15d9e8bf843592ef82ad4bda0b697ffe3cb"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/jwtAuth.middleware.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/jwtAuth.middleware.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"4":{"start":{"line":7,"column":13},"end":{"line":7,"column":26}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":63}},"6":{"start":{"line":9,"column":16},"end":{"line":25,"column":1}},"7":{"start":{"line":10,"column":18},"end":{"line":10,"column":43}},"8":{"start":{"line":11,"column":4},"end":{"line":12,"column":68}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":68}},"10":{"start":{"line":13,"column":4},"end":{"line":24,"column":5}},"11":{"start":{"line":14,"column":23},"end":{"line":14,"column":89}},"12":{"start":{"line":15,"column":46},"end":{"line":15,"column":90}},"13":{"start":{"line":16,"column":8},"end":{"line":16,"column":54}},"14":{"start":{"line":17,"column":8},"end":{"line":17,"column":22}},"15":{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},"16":{"start":{"line":21,"column":12},"end":{"line":21,"column":70}},"17":{"start":{"line":23,"column":8},"end":{"line":23,"column":23}},"18":{"start":{"line":26,"column":0},"end":{"line":26,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":16},"end":{"line":9,"column":17}},"loc":{"start":{"line":9,"column":36},"end":{"line":25,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":11,"column":4},"end":{"line":12,"column":68}},"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":12,"column":68}},{"start":{"line":11,"column":4},"end":{"line":12,"column":68}}],"line":11},"4":{"loc":{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},"type":"if","locations":[{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},{"start":{"line":20,"column":8},"end":{"line":22,"column":9}}],"line":20},"5":{"loc":{"start":{"line":20,"column":12},"end":{"line":20,"column":58}},"type":"binary-expr","locations":[{"start":{"line":20,"column":12},"end":{"line":20,"column":30}},{"start":{"line":20,"column":34},"end":{"line":20,"column":58}}],"line":20}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":28,"8":28,"9":2,"10":26,"11":26,"12":26,"13":22,"14":22,"15":4,"16":2,"17":2,"18":1},"f":{"0":1,"1":28},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1],"3":[2,26],"4":[2,2],"5":[4,4]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/jwtAuth.middleware.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/jwtAuth.middleware.ts"],"names":[],"mappings":";;;;;;AACA,2BAAkC;AAClC,gEAA+B;AAExB,MAAM,OAAO,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACzE,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,CAAC;IAExC,IAAI,CAAC,KAAK;QAAE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,CAAC,CAAC;IAExE,IAAI;QACF,MAAM,MAAM,GAAG,IAAA,iBAAY,EAAC,oBAAoB,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;QAExE,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,sBAAG,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAmB,CAAC;QAElF,GAAG,CAAC,SAAS,GAAG,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;QAC9C,OAAO,IAAI,EAAE,CAAC;KACf;IAAC,OAAO,CAAU,EAAE;QACnB,IAAI,CAAC,YAAY,KAAK,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;YAClD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,CAAC,CAAC;SAC3D;QACD,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC;KAChB;AACH,CAAC,CAAC;AAlBW,QAAA,OAAO,WAkBlB","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport { readFileSync } from 'fs';\nimport jwt from 'jsonwebtoken';\n\nexport const jwtAuth = (req: Request, res: Response, next: NextFunction) => {\n  const token = req.headers.authorization;\n\n  if (!token) return res.status(401).json({ message: 'Token not found' });\n\n  try {\n    const SECRET = readFileSync('jwt.evaluation.key', { encoding: 'utf8' });\n\n    const { id, email, role, username } = jwt.verify(token, SECRET) as jwt.JwtPayload;\n\n    req.tokenData = { id, email, role, username };\n    return next();\n  } catch (e: unknown) {\n    if (e instanceof Error && e.name.includes('Token')) {\n      return res.status(401).json({ message: 'Invalid token' });\n    }\n    return next(e);\n  }\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ac2e4eec73885bf4b2cdf8e244dc87ee9b822d70","contentHash":"b673e17826b8c9960ae030c2f05de7d0540ea53e3fdfcfc2c3ad807f6037d41f"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/validateBody.middleware.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/validateBody.middleware.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":21},"end":{"line":11,"column":2}},"3":{"start":{"line":4,"column":34},"end":{"line":11,"column":1}},"4":{"start":{"line":5,"column":22},"end":{"line":5,"column":47}},"5":{"start":{"line":6,"column":4},"end":{"line":9,"column":5}},"6":{"start":{"line":7,"column":32},"end":{"line":7,"column":56}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":58}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":11}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":21},"end":{"line":4,"column":22}},"loc":{"start":{"line":4,"column":34},"end":{"line":11,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":34},"end":{"line":4,"column":35}},"loc":{"start":{"line":4,"column":54},"end":{"line":11,"column":1}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":4},"end":{"line":9,"column":5}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":9,"column":5}},{"start":{"line":6,"column":4},"end":{"line":9,"column":5}}],"line":6}},"s":{"0":1,"1":1,"2":1,"3":2,"4":33,"5":33,"6":21,"7":21,"8":12,"9":1},"f":{"0":2,"1":33},"b":{"0":[21,12]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/validateBody.middleware.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/middlewares/validateBody.middleware.ts"],"names":[],"mappings":";;;AAGO,MAAM,YAAY,GAAG,CAAC,MAAoB,EAAE,EAAE,CAAC,CACpD,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAClD,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAE5C,IAAI,KAAK,EAAE;QACT,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACjD,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;KACnD;IAED,IAAI,EAAE,CAAC;AACT,CAAC,CACF,CAAC;AAXW,QAAA,YAAY,gBAWvB","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport { ObjectSchema } from 'joi';\n\nexport const validateBody = (schema: ObjectSchema) => (\n  (req: Request, res: Response, next: NextFunction) => {\n    const { error } = schema.validate(req.body);\n\n    if (error) {\n      const [code, message] = error.message.split('|');\n      return res.status(Number(code)).json({ message });\n    }\n\n    next();\n  }\n);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b12c758fbc5f127cf14a47800d5a1018aba35c55","contentHash":"a6d204b7031d0db2f63bb54f8beaf68d0375ed3b900145b06044f1adb8615463"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/index.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":126}},"10":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"11":{"start":{"line":10,"column":95},"end":{"line":10,"column":126}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":49}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":55}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":49}},"16":{"start":{"line":16,"column":0},"end":{"line":16,"column":51}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":50},"end":{"line":9,"column":51}},"loc":{"start":{"line":9,"column":71},"end":{"line":11,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"type":"binary-expr","locations":[{"start":{"line":9,"column":20},"end":{"line":9,"column":24}},{"start":{"line":9,"column":28},"end":{"line":9,"column":45}},{"start":{"line":9,"column":50},"end":{"line":11,"column":1}}],"line":9},"5":{"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"type":"if","locations":[{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},{"start":{"line":10,"column":21},"end":{"line":10,"column":126}}],"line":10},"6":{"loc":{"start":{"line":10,"column":25},"end":{"line":10,"column":93}},"type":"binary-expr","locations":[{"start":{"line":10,"column":25},"end":{"line":10,"column":40}},{"start":{"line":10,"column":44},"end":{"line":10,"column":93}}],"line":10}},"s":{"0":1,"1":4,"2":4,"3":4,"4":4,"5":0,"6":0,"7":0,"8":1,"9":4,"10":4,"11":4,"12":1,"13":1,"14":1,"15":1,"16":1},"f":{"0":4,"1":4,"2":0,"3":4},"b":{"0":[1,1,1],"1":[1,0],"2":[4,0],"3":[0,0],"4":[1,1,1],"5":[4,0],"6":[4,4]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/index.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/index.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,iDAA+B;AAC/B,uDAAqC;AACrC,iDAA+B;AAC/B,mDAAiC","sourcesContent":["export * from './clubs.router';\nexport * from './leaderboard.router';\nexport * from './login.router';\nexport * from './matches.router';\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4456b43e0f1f6b598806970911e0ef11e3f9d488","contentHash":"2691c6992f393dfe8698e7e81b1343d373460fba32fa216207fdaab3d2d07495"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/clubs.router.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/clubs.router.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":36}},"3":{"start":{"line":5,"column":20},"end":{"line":5,"column":43}},"4":{"start":{"line":6,"column":21},"end":{"line":6,"column":52}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":46}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":27}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":27}},"8":{"start":{"line":14,"column":8},"end":{"line":17,"column":11}},"9":{"start":{"line":15,"column":35},"end":{"line":15,"column":67}},"10":{"start":{"line":16,"column":12},"end":{"line":16,"column":47}},"11":{"start":{"line":20,"column":8},"end":{"line":23,"column":11}},"12":{"start":{"line":21,"column":35},"end":{"line":21,"column":80}},"13":{"start":{"line":22,"column":12},"end":{"line":22,"column":47}},"14":{"start":{"line":26,"column":0},"end":{"line":26,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":12,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":18},"end":{"line":18,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":29},"end":{"line":14,"column":30}},"loc":{"start":{"line":14,"column":49},"end":{"line":17,"column":9}},"line":14},"3":{"name":"(anonymous_3)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":18},"end":{"line":24,"column":5}},"line":19},"4":{"name":"(anonymous_4)","decl":{"start":{"line":20,"column":32},"end":{"line":20,"column":33}},"loc":{"start":{"line":20,"column":52},"end":{"line":23,"column":9}},"line":20}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":2,"13":2,"14":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":2},"b":{},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/clubs.router.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/clubs.router.ts"],"names":[],"mappings":";;;AAAA,qCAAoD;AAEpD,4CAA4C;AAE5C,MAAM,YAAY,GAAkB,IAAA,wBAAY,GAAE,CAAC;AAEnD,MAAa,WAAW;IAGtB;QACE,IAAI,CAAC,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;QACvB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAEO,WAAW;QACjB,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,GAAG,EACH,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YACpC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,MAAM,YAAY,CAAC,WAAW,EAAE,CAAC;YACxD,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CACF,CAAC;IACJ,CAAC;IAEO,WAAW;QACjB,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,MAAM,EACN,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YACpC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,MAAM,YAAY,CAAC,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACrE,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CACF,CAAC;IACJ,CAAC;CACF;AA5BD,kCA4BC","sourcesContent":["import { Request, Response, Router } from 'express';\nimport { IClubsService } from '../interfaces';\nimport { clubsFactory } from '../factories';\n\nconst clubsService: IClubsService = clubsFactory();\n\nexport class ClubsRouter {\n  public router: Router;\n\n  constructor() {\n    this.router = Router();\n    this.getAllClubs();\n    this.getClubById();\n  }\n\n  private getAllClubs(): void {\n    this.router.get(\n      '/',\n      async (req: Request, res: Response) => {\n        const { code, data } = await clubsService.getAllClubs();\n        return res.status(code).json(data);\n      },\n    );\n  }\n\n  private getClubById(): void {\n    this.router.get(\n      '/:id',\n      async (req: Request, res: Response) => {\n        const { code, data } = await clubsService.getClubById(req.params.id);\n        return res.status(code).json(data);\n      },\n    );\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"59173138abc63e4e1abfeef5d519a12baaa79a7b","contentHash":"8e6dd37beb57b63c829c82be32cd9808042df6fd726852c1adac202c8717d4cb"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/index.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":126}},"10":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"11":{"start":{"line":10,"column":95},"end":{"line":10,"column":126}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":50}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":50}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":52}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":50},"end":{"line":9,"column":51}},"loc":{"start":{"line":9,"column":71},"end":{"line":11,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"type":"binary-expr","locations":[{"start":{"line":9,"column":20},"end":{"line":9,"column":24}},{"start":{"line":9,"column":28},"end":{"line":9,"column":45}},{"start":{"line":9,"column":50},"end":{"line":11,"column":1}}],"line":9},"5":{"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"type":"if","locations":[{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},{"start":{"line":10,"column":21},"end":{"line":10,"column":126}}],"line":10},"6":{"loc":{"start":{"line":10,"column":25},"end":{"line":10,"column":93}},"type":"binary-expr","locations":[{"start":{"line":10,"column":25},"end":{"line":10,"column":40}},{"start":{"line":10,"column":44},"end":{"line":10,"column":93}}],"line":10}},"s":{"0":1,"1":3,"2":3,"3":3,"4":3,"5":0,"6":0,"7":0,"8":1,"9":3,"10":3,"11":3,"12":1,"13":1,"14":1,"15":1},"f":{"0":3,"1":3,"2":0,"3":3},"b":{"0":[1,1,1],"1":[1,0],"2":[3,0],"3":[0,0],"4":[1,1,1],"5":[3,0],"6":[3,3]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/index.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/index.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,kDAAgC;AAChC,kDAAgC;AAChC,oDAAkC","sourcesContent":["export * from './clubs.factory';\nexport * from './login.factory';\nexport * from './matches.factory';\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d341ae10cd0274ae9a21a69e14714caa7617578d","contentHash":"0f1a5fd91b6251308b648b9b73f19487114e31c0dfa07671c5268ac6a47a4b4f"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/clubs.factory.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/clubs.factory.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":41}},"3":{"start":{"line":5,"column":23},"end":{"line":5,"column":49}},"4":{"start":{"line":6,"column":21},"end":{"line":6,"column":92}},"5":{"start":{"line":6,"column":27},"end":{"line":6,"column":92}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":21},"end":{"line":6,"column":22}},"loc":{"start":{"line":6,"column":27},"end":{"line":6,"column":92}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/clubs.factory.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/clubs.factory.ts"],"names":[],"mappings":";;;AAAA,0CAA2C;AAC3C,kDAAkD;AAE3C,MAAM,YAAY,GAAG,GAAG,EAAE,CAAC,IAAI,uBAAY,CAAC,IAAI,8BAAe,EAAE,CAAC,CAAC;AAA7D,QAAA,YAAY,gBAAiD","sourcesContent":["import { ClubsService } from '../services';\nimport { ClubsRepository } from '../repositories';\n\nexport const clubsFactory = () => new ClubsService(new ClubsRepository());\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2ea02995e74902e1884a83900c29c240cebdf34b","contentHash":"b463f45f0ab3ca42162c3d49f08661c2935ce99d6364f25b27f11227a77242d7"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/index.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":126}},"10":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"11":{"start":{"line":10,"column":95},"end":{"line":10,"column":126}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":50}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":56}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":50}},"16":{"start":{"line":16,"column":0},"end":{"line":16,"column":52}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":50},"end":{"line":9,"column":51}},"loc":{"start":{"line":9,"column":71},"end":{"line":11,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"type":"binary-expr","locations":[{"start":{"line":9,"column":20},"end":{"line":9,"column":24}},{"start":{"line":9,"column":28},"end":{"line":9,"column":45}},{"start":{"line":9,"column":50},"end":{"line":11,"column":1}}],"line":9},"5":{"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"type":"if","locations":[{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},{"start":{"line":10,"column":21},"end":{"line":10,"column":126}}],"line":10},"6":{"loc":{"start":{"line":10,"column":25},"end":{"line":10,"column":93}},"type":"binary-expr","locations":[{"start":{"line":10,"column":25},"end":{"line":10,"column":40}},{"start":{"line":10,"column":44},"end":{"line":10,"column":93}}],"line":10}},"s":{"0":1,"1":4,"2":4,"3":4,"4":4,"5":0,"6":0,"7":0,"8":1,"9":4,"10":4,"11":4,"12":1,"13":1,"14":1,"15":1,"16":1},"f":{"0":4,"1":4,"2":0,"3":4},"b":{"0":[1,1,1],"1":[1,0],"2":[4,0],"3":[0,0],"4":[1,1,1],"5":[4,0],"6":[4,4]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/index.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/index.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,kDAAgC;AAChC,wDAAsC;AACtC,kDAAgC;AAChC,oDAAkC","sourcesContent":["export * from './clubs.service';\nexport * from './leaderboard.service';\nexport * from './login.service';\nexport * from './matches.service';\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8c6394206e188e3bd3c399e168c7726e6ce44d6b","contentHash":"b5f9125980a07963ad91eb5b8f734f20393b58955851aefb0fb4533ed78b9379"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/clubs.service.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/clubs.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":47}},"3":{"start":{"line":9,"column":26},"end":{"line":9,"column":66}},"4":{"start":{"line":10,"column":8},"end":{"line":10,"column":46}},"5":{"start":{"line":13,"column":21},"end":{"line":13,"column":63}},"6":{"start":{"line":14,"column":8},"end":{"line":14,"column":101}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":33},"end":{"line":7,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":24},"end":{"line":11,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":26},"end":{"line":15,"column":5}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":15},"end":{"line":14,"column":100}},"type":"cond-expr","locations":[{"start":{"line":14,"column":22},"end":{"line":14,"column":47}},{"start":{"line":14,"column":50},"end":{"line":14,"column":100}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":2,"7":1},"f":{"0":1,"1":1,"2":2},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/clubs.service.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/clubs.service.ts"],"names":[],"mappings":";;;AAEA,MAAa,YAAY;IACvB,YACU,eAAgC;QAAhC,oBAAe,GAAf,eAAe,CAAiB;IACvC,CAAC;IAEJ,KAAK,CAAC,WAAW;QACf,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,CAAC;QAE3D,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;IACxC,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,EAAU;QAC1B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QAExD,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,gBAAgB,EAAE,EAAE,CAAC;IAC/F,CAAC;CACF;AAhBD,oCAgBC","sourcesContent":["import { ClubsRepository } from '../repositories';\n\nexport class ClubsService {\n  constructor(\n    private clubsRepository: ClubsRepository,\n  ) {}\n\n  async getAllClubs() {\n    const clubsList = await this.clubsRepository.getAllClubs();\n\n    return { code: 200, data: clubsList };\n  }\n\n  async getClubById(id: string) {\n    const club = await this.clubsRepository.getClubById(id);\n\n    return club ? { code: 200, data: club } : { code: 404, data: { message: 'Club not found' } };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"51e65c9134e2af5b04adbac4fc922f3ffbd183f4","contentHash":"161bad78481ec9e85e4da0a3f5171dc6abdeff02da26fbb95b93262c1de886fd"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/leaderboard.service.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/leaderboard.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":39}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":46}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":44}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":46}},"6":{"start":{"line":12,"column":8},"end":{"line":18,"column":14}},"7":{"start":{"line":13,"column":12},"end":{"line":14,"column":39}},"8":{"start":{"line":14,"column":16},"end":{"line":14,"column":39}},"9":{"start":{"line":15,"column":12},"end":{"line":16,"column":39}},"10":{"start":{"line":16,"column":16},"end":{"line":16,"column":39}},"11":{"start":{"line":17,"column":12},"end":{"line":17,"column":31}},"12":{"start":{"line":21,"column":8},"end":{"line":25,"column":14}},"13":{"start":{"line":22,"column":12},"end":{"line":23,"column":42}},"14":{"start":{"line":23,"column":16},"end":{"line":23,"column":42}},"15":{"start":{"line":24,"column":12},"end":{"line":24,"column":34}},"16":{"start":{"line":28,"column":8},"end":{"line":32,"column":14}},"17":{"start":{"line":29,"column":12},"end":{"line":30,"column":38}},"18":{"start":{"line":30,"column":16},"end":{"line":30,"column":38}},"19":{"start":{"line":31,"column":12},"end":{"line":31,"column":30}},"20":{"start":{"line":35,"column":8},"end":{"line":39,"column":14}},"21":{"start":{"line":36,"column":12},"end":{"line":37,"column":39}},"22":{"start":{"line":37,"column":16},"end":{"line":37,"column":39}},"23":{"start":{"line":38,"column":12},"end":{"line":38,"column":31}},"24":{"start":{"line":42,"column":8},"end":{"line":42,"column":87}},"25":{"start":{"line":42,"column":53},"end":{"line":42,"column":82}},"26":{"start":{"line":45,"column":8},"end":{"line":45,"column":81}},"27":{"start":{"line":45,"column":51},"end":{"line":45,"column":76}},"28":{"start":{"line":48,"column":26},"end":{"line":48,"column":101}},"29":{"start":{"line":49,"column":31},"end":{"line":49,"column":71}},"30":{"start":{"line":50,"column":8},"end":{"line":50,"column":79}},"31":{"start":{"line":53,"column":36},"end":{"line":69,"column":10}},"32":{"start":{"line":54,"column":30},"end":{"line":65,"column":13}},"33":{"start":{"line":66,"column":12},"end":{"line":66,"column":79}},"34":{"start":{"line":67,"column":12},"end":{"line":67,"column":104}},"35":{"start":{"line":68,"column":12},"end":{"line":68,"column":29}},"36":{"start":{"line":70,"column":8},"end":{"line":70,"column":57}},"37":{"start":{"line":73,"column":33},"end":{"line":85,"column":10}},"38":{"start":{"line":81,"column":33},"end":{"line":81,"column":65}},"39":{"start":{"line":82,"column":12},"end":{"line":82,"column":65}},"40":{"start":{"line":83,"column":12},"end":{"line":83,"column":44}},"41":{"start":{"line":84,"column":12},"end":{"line":84,"column":32}},"42":{"start":{"line":86,"column":8},"end":{"line":86,"column":91}},"43":{"start":{"line":89,"column":33},"end":{"line":100,"column":10}},"44":{"start":{"line":97,"column":33},"end":{"line":97,"column":65}},"45":{"start":{"line":98,"column":12},"end":{"line":98,"column":65}},"46":{"start":{"line":99,"column":12},"end":{"line":99,"column":32}},"47":{"start":{"line":101,"column":8},"end":{"line":101,"column":91}},"48":{"start":{"line":104,"column":36},"end":{"line":120,"column":10}},"49":{"start":{"line":117,"column":33},"end":{"line":117,"column":65}},"50":{"start":{"line":118,"column":12},"end":{"line":118,"column":94}},"51":{"start":{"line":119,"column":12},"end":{"line":119,"column":32}},"52":{"start":{"line":121,"column":8},"end":{"line":121,"column":94}},"53":{"start":{"line":124,"column":0},"end":{"line":124,"column":48}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":10,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":36},"end":{"line":19,"column":5}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":30},"end":{"line":12,"column":31}},"loc":{"start":{"line":12,"column":54},"end":{"line":18,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":39},"end":{"line":26,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":30},"end":{"line":21,"column":31}},"loc":{"start":{"line":21,"column":57},"end":{"line":25,"column":9}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":35},"end":{"line":33,"column":5}},"line":27},"6":{"name":"(anonymous_6)","decl":{"start":{"line":28,"column":30},"end":{"line":28,"column":31}},"loc":{"start":{"line":28,"column":53},"end":{"line":32,"column":9}},"line":28},"7":{"name":"(anonymous_7)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":36},"end":{"line":40,"column":5}},"line":34},"8":{"name":"(anonymous_8)","decl":{"start":{"line":35,"column":30},"end":{"line":35,"column":31}},"loc":{"start":{"line":35,"column":54},"end":{"line":39,"column":9}},"line":35},"9":{"name":"(anonymous_9)","decl":{"start":{"line":41,"column":4},"end":{"line":41,"column":5}},"loc":{"start":{"line":41,"column":35},"end":{"line":43,"column":5}},"line":41},"10":{"name":"(anonymous_10)","decl":{"start":{"line":42,"column":30},"end":{"line":42,"column":31}},"loc":{"start":{"line":42,"column":53},"end":{"line":42,"column":82}},"line":42},"11":{"name":"(anonymous_11)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":33},"end":{"line":46,"column":5}},"line":44},"12":{"name":"(anonymous_12)","decl":{"start":{"line":45,"column":30},"end":{"line":45,"column":31}},"loc":{"start":{"line":45,"column":51},"end":{"line":45,"column":76}},"line":45},"13":{"name":"(anonymous_13)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":39},"end":{"line":51,"column":5}},"line":47},"14":{"name":"(anonymous_14)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":43},"end":{"line":71,"column":5}},"line":52},"15":{"name":"(anonymous_15)","decl":{"start":{"line":53,"column":53},"end":{"line":53,"column":54}},"loc":{"start":{"line":53,"column":80},"end":{"line":69,"column":9}},"line":53},"16":{"name":"(anonymous_16)","decl":{"start":{"line":72,"column":4},"end":{"line":72,"column":5}},"loc":{"start":{"line":72,"column":27},"end":{"line":87,"column":5}},"line":72},"17":{"name":"(anonymous_17)","decl":{"start":{"line":80,"column":17},"end":{"line":80,"column":18}},"loc":{"start":{"line":80,"column":34},"end":{"line":85,"column":9}},"line":80},"18":{"name":"(anonymous_18)","decl":{"start":{"line":88,"column":4},"end":{"line":88,"column":5}},"loc":{"start":{"line":88,"column":27},"end":{"line":102,"column":5}},"line":88},"19":{"name":"(anonymous_19)","decl":{"start":{"line":96,"column":17},"end":{"line":96,"column":18}},"loc":{"start":{"line":96,"column":34},"end":{"line":100,"column":9}},"line":96},"20":{"name":"(anonymous_20)","decl":{"start":{"line":103,"column":4},"end":{"line":103,"column":5}},"loc":{"start":{"line":103,"column":30},"end":{"line":122,"column":5}},"line":103},"21":{"name":"(anonymous_21)","decl":{"start":{"line":116,"column":17},"end":{"line":116,"column":18}},"loc":{"start":{"line":116,"column":34},"end":{"line":120,"column":9}},"line":116}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":12},"end":{"line":14,"column":39}},"type":"if","locations":[{"start":{"line":13,"column":12},"end":{"line":14,"column":39}},{"start":{"line":13,"column":12},"end":{"line":14,"column":39}}],"line":13},"1":{"loc":{"start":{"line":15,"column":12},"end":{"line":16,"column":39}},"type":"if","locations":[{"start":{"line":15,"column":12},"end":{"line":16,"column":39}},{"start":{"line":15,"column":12},"end":{"line":16,"column":39}}],"line":15},"2":{"loc":{"start":{"line":22,"column":12},"end":{"line":23,"column":42}},"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":23,"column":42}},{"start":{"line":22,"column":12},"end":{"line":23,"column":42}}],"line":22},"3":{"loc":{"start":{"line":29,"column":12},"end":{"line":30,"column":38}},"type":"if","locations":[{"start":{"line":29,"column":12},"end":{"line":30,"column":38}},{"start":{"line":29,"column":12},"end":{"line":30,"column":38}}],"line":29},"4":{"loc":{"start":{"line":36,"column":12},"end":{"line":37,"column":39}},"type":"if","locations":[{"start":{"line":36,"column":12},"end":{"line":37,"column":39}},{"start":{"line":36,"column":12},"end":{"line":37,"column":39}}],"line":36}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":96,"7":324,"8":122,"9":202,"10":80,"11":122,"12":96,"13":324,"14":122,"15":202,"16":96,"17":324,"18":80,"19":244,"20":96,"21":324,"22":122,"23":202,"24":96,"25":324,"26":96,"27":324,"28":6,"29":6,"30":6,"31":6,"32":96,"33":96,"34":96,"35":96,"36":6,"37":2,"38":32,"39":32,"40":32,"41":32,"42":2,"43":2,"44":32,"45":32,"46":32,"47":2,"48":2,"49":32,"50":32,"51":32,"52":2,"53":1},"f":{"0":1,"1":96,"2":324,"3":96,"4":324,"5":96,"6":324,"7":96,"8":324,"9":96,"10":324,"11":96,"12":324,"13":6,"14":6,"15":96,"16":2,"17":32,"18":2,"19":32,"20":2,"21":32},"b":{"0":[122,202],"1":[80,122],"2":[122,202],"3":[80,244],"4":[122,202]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/leaderboard.service.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/leaderboard.service.ts"],"names":[],"mappings":"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","sourcesContent":["import sortArray = require('sort-array');\nimport { IClubHistory, IClubStats, IMatchGoals } from '../interfaces';\nimport { ClubModel, MatchModel } from '../database/models';\n\nexport class LeaderboardService {\n  private static calcTotalPoints(matches: IMatchGoals[]) {\n    return matches.reduce((totalPoints, match) => {\n      if (match.goalsFavor > match.goalsOwn) return totalPoints + 3;\n      if (match.goalsFavor === match.goalsOwn) return totalPoints + 1;\n      return totalPoints;\n    }, 0);\n  }\n\n  private static calcTotalVictories(matches: IMatchGoals[]) {\n    return matches.reduce((totalVictories, match) => {\n      if (match.goalsFavor > match.goalsOwn) return totalVictories + 1;\n      return totalVictories;\n    }, 0);\n  }\n\n  private static calcTotalDraws(matches: IMatchGoals[]) {\n    return matches.reduce((totalDraws, match) => {\n      if (match.goalsFavor === match.goalsOwn) return totalDraws + 1;\n      return totalDraws;\n    }, 0);\n  }\n\n  private static calcTotalLosses(matches: IMatchGoals[]) {\n    return matches.reduce((totalLosses, match) => {\n      if (match.goalsFavor < match.goalsOwn) return totalLosses + 1;\n      return totalLosses;\n    }, 0);\n  }\n\n  private static calcGoalsFavor(matches: IMatchGoals[]) {\n    return matches.reduce((goalsFavor, match) => goalsFavor + match.goalsFavor, 0);\n  }\n\n  private static calcGoalsOwn(matches: IMatchGoals[]) {\n    return matches.reduce((goalsOwn, match) => goalsOwn + match.goalsOwn, 0);\n  }\n\n  private static sortLeaderboard(clubsStats: IClubStats[]) {\n    const sortProps = ['totalPoints', 'totalVictories', 'goalsBalance', 'goalsFavor', 'goalsOwn'];\n    const sortPropsOrder = ['desc', 'desc', 'desc', 'desc', 'desc'];\n    return sortArray(clubsStats, { by: sortProps, order: sortPropsOrder });\n  }\n\n  private static createLeaderboard(clubsHistory: IClubHistory[]) {\n    const unsortedLeaderboard = clubsHistory.map(({ clubName, matches }) => {\n      const clubStats = {\n        name: clubName,\n        totalPoints: this.calcTotalPoints(matches),\n        totalGames: matches.length,\n        totalVictories: this.calcTotalVictories(matches),\n        totalDraws: this.calcTotalDraws(matches),\n        totalLosses: this.calcTotalLosses(matches),\n        goalsFavor: this.calcGoalsFavor(matches),\n        goalsOwn: this.calcGoalsOwn(matches),\n        goalsBalance: 0,\n        efficiency: 0,\n      };\n\n      clubStats.goalsBalance = clubStats.goalsFavor - clubStats.goalsOwn;\n      clubStats.efficiency = +(((clubStats.totalPoints / (matches.length * 3)) * 100).toFixed(2));\n\n      return clubStats;\n    });\n\n    return this.sortLeaderboard(unsortedLeaderboard);\n  }\n\n  private clubModel: typeof ClubModel;\n\n  private matchModel: typeof MatchModel;\n\n  constructor() {\n    this.clubModel = ClubModel;\n    this.matchModel = MatchModel;\n  }\n\n  async getHomeRanking() {\n    const clubsHomeHistory = (await this.clubModel.findAll({ include: [{\n      model: this.matchModel,\n      as: 'homeMatches',\n      attributes: [['home_team_goals', 'goalsFavor'], ['away_team_goals', 'goalsOwn']],\n      where: { inProgress: false },\n    }],\n    }))\n      .map((clubHistory) => {\n        const plainHistory = clubHistory.get({ plain: true });\n        plainHistory.matches = [...plainHistory.homeMatches];\n        delete plainHistory.homeMatches;\n        return plainHistory;\n      }) as IClubHistory[];\n\n    return { code: 200, data: LeaderboardService.createLeaderboard(clubsHomeHistory) };\n  }\n\n  async getAwayRanking() {\n    const clubsAwayHistory = (await this.clubModel.findAll({ include: [{\n      model: this.matchModel,\n      as: 'awayMatches',\n      attributes: [['home_team_goals', 'goalsOwn'], ['away_team_goals', 'goalsFavor']],\n      where: { inProgress: false },\n    }],\n    }))\n      .map((clubHistory) => {\n        const plainHistory = clubHistory.get({ plain: true });\n        plainHistory.matches = [...plainHistory.awayMatches];\n        return plainHistory;\n      }) as IClubHistory[];\n\n    return { code: 200, data: LeaderboardService.createLeaderboard(clubsAwayHistory) };\n  }\n\n  async getOverallRanking() {\n    const clubsOverallHistory = (await this.clubModel.findAll({ include: [{\n      model: this.matchModel,\n      as: 'homeMatches',\n      attributes: [['home_team_goals', 'goalsFavor'], ['away_team_goals', 'goalsOwn']],\n      where: { inProgress: false },\n    }, {\n      model: this.matchModel,\n      as: 'awayMatches',\n      attributes: [['home_team_goals', 'goalsOwn'], ['away_team_goals', 'goalsFavor']],\n      where: { inProgress: false },\n    }],\n    }))\n      .map((clubHistory) => {\n        const plainHistory = clubHistory.get({ plain: true });\n        plainHistory.matches = [...plainHistory.homeMatches, ...plainHistory.awayMatches];\n        return plainHistory;\n      }) as IClubHistory[];\n\n    return { code: 200, data: LeaderboardService.createLeaderboard(clubsOverallHistory) };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"db27f74f581f2f89a7d6638734afb07e76d6d277","contentHash":"98dacdd81fdb36e001b16b315ac4a7357744f01234fdeee94fc87a49669618b1"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/index.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":68}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":40}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":52}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":60}},"7":{"start":{"line":10,"column":13},"end":{"line":10,"column":30}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":128}},"9":{"start":{"line":11,"column":83},"end":{"line":11,"column":122}},"10":{"start":{"line":12,"column":13},"end":{"line":12,"column":30}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":128}},"12":{"start":{"line":13,"column":83},"end":{"line":13,"column":122}},"13":{"start":{"line":14,"column":14},"end":{"line":14,"column":32}},"14":{"start":{"line":15,"column":0},"end":{"line":15,"column":130}},"15":{"start":{"line":15,"column":84},"end":{"line":15,"column":124}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":69},"end":{"line":11,"column":70}},"loc":{"start":{"line":11,"column":81},"end":{"line":11,"column":124}},"line":11},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":69},"end":{"line":13,"column":70}},"loc":{"start":{"line":13,"column":81},"end":{"line":13,"column":124}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":15,"column":70},"end":{"line":15,"column":71}},"loc":{"start":{"line":15,"column":82},"end":{"line":15,"column":126}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":58,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":6,"10":1,"11":1,"12":30,"13":1,"14":1,"15":22},"f":{"0":58,"1":6,"2":30,"3":22},"b":{"0":[1,1,1],"1":[58,0],"2":[58,58]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/index.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/index.ts"],"names":[],"mappings":";;;;;;AAAA,yCAAsC;AAEtC,MAAM,cAAc,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAErD,kBAAe,IAAI,qBAAS,CAAC,cAAc,CAAC,CAAC;AAE7C,+BAA8C;AAArC,kHAAA,OAAO,OAAa;AAC7B,+BAA8C;AAArC,kHAAA,OAAO,OAAa;AAC7B,iCAAgD;AAAvC,oHAAA,OAAO,OAAc","sourcesContent":["import { Sequelize } from 'sequelize';\n\nconst databaseConfig = require('../config/database');\n\nexport default new Sequelize(databaseConfig);\n\nexport { default as UserModel } from './User';\nexport { default as ClubModel } from './Club';\nexport { default as MatchModel } from './Match';\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ae54781f14cfeb6542a8e385768a1206eb70ac39","contentHash":"1d4ffa93825e04a8944e2a82b784765121a5fc6ed7613b268915b66355b0f5f2"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/User.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/User.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":11},"end":{"line":7,"column":40}},"5":{"start":{"line":10,"column":0},"end":{"line":39,"column":3}},"6":{"start":{"line":40,"column":0},"end":{"line":40,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/User.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/User.ts"],"names":[],"mappings":";;;;;AAAA,yCAA6C;AAC7C,yCAAmB;AAEnB,MAAM,IAAK,SAAQ,iBAAK;CAUvB;AAED,IAAI,CAAC,IAAI,CAAC;IACR,EAAE,EAAE;QACF,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,IAAI;QACnB,UAAU,EAAE,IAAI;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,KAAK,EAAE;QACL,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;CACF,EAAE;IACD,SAAS,EAAE,UAAE;IACb,WAAW,EAAE,IAAI;IACjB,UAAU,EAAE,KAAK;IACjB,SAAS,EAAE,MAAM;IACjB,SAAS,EAAE,OAAO;CACnB,CAAC,CAAC;AAEH,kBAAe,IAAI,CAAC","sourcesContent":["import { DataTypes, Model } from 'sequelize';\nimport db from '.';\n\nclass User extends Model {\n  public id: number;\n\n  public username: string;\n\n  public role: string;\n\n  public email: string;\n\n  public password: string;\n}\n\nUser.init({\n  id: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n    autoIncrement: true,\n    primaryKey: true,\n  },\n  username: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  role: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  email: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  password: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n}, {\n  sequelize: db,\n  underscored: true,\n  timestamps: false,\n  modelName: 'User',\n  tableName: 'users',\n});\n\nexport default User;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"13fb2c172317ae442e7304f18929d4a0a36d98ff","contentHash":"af2cd6d57624ffaf3e2a92cabab53e1a92edea0aec1d0a6af7c58f75a2a12d3a"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/Club.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/Club.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":11},"end":{"line":7,"column":40}},"5":{"start":{"line":10,"column":0},"end":{"line":27,"column":3}},"6":{"start":{"line":28,"column":0},"end":{"line":28,"column":23}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/Club.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/Club.ts"],"names":[],"mappings":";;;;;AAAA,yCAA6C;AAC7C,yCAAmB;AAEnB,MAAM,IAAK,SAAQ,iBAAK;CAIvB;AAED,IAAI,CAAC,IAAI,CAAC;IACR,EAAE,EAAE;QACF,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,IAAI;QACnB,UAAU,EAAE,IAAI;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;CACF,EAAE;IACD,SAAS,EAAE,UAAE;IACb,WAAW,EAAE,IAAI;IACjB,UAAU,EAAE,KAAK;IACjB,SAAS,EAAE,MAAM;IACjB,SAAS,EAAE,OAAO;CACnB,CAAC,CAAC;AAEH,kBAAe,IAAI,CAAC","sourcesContent":["import { DataTypes, Model } from 'sequelize';\nimport db from '.';\n\nclass Club extends Model {\n  public id: number;\n\n  public clubName: string;\n}\n\nClub.init({\n  id: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n    autoIncrement: true,\n    primaryKey: true,\n  },\n  clubName: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n}, {\n  sequelize: db,\n  underscored: true,\n  timestamps: false,\n  modelName: 'Club',\n  tableName: 'clubs',\n});\n\nexport default Club;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1edf0b4a0e0756c8ae08b83c09bb45808c60a9b9","contentHash":"9d4763a0cf9e1513da3bf763b58c44e546e8343ecb6da2ae0d8c300c1255fc25"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/Match.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/Match.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":20},"end":{"line":6,"column":40}},"4":{"start":{"line":7,"column":11},"end":{"line":7,"column":40}},"5":{"start":{"line":8,"column":15},"end":{"line":8,"column":49}},"6":{"start":{"line":11,"column":0},"end":{"line":44,"column":3}},"7":{"start":{"line":45,"column":0},"end":{"line":45,"column":77}},"8":{"start":{"line":46,"column":0},"end":{"line":46,"column":77}},"9":{"start":{"line":47,"column":0},"end":{"line":47,"column":76}},"10":{"start":{"line":48,"column":0},"end":{"line":48,"column":76}},"11":{"start":{"line":49,"column":0},"end":{"line":49,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{"0":2},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/Match.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/database/models/Match.ts"],"names":[],"mappings":";;;;;AAAA,yCAA6C;AAC7C,yCAAmB;AACnB,kDAA0B;AAE1B,MAAM,KAAM,SAAQ,iBAAK;CAYxB;AAED,KAAK,CAAC,IAAI,CAAC;IACT,EAAE,EAAE;QACF,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,IAAI;QACnB,UAAU,EAAE,IAAI;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,aAAa,EAAE;QACb,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,aAAa,EAAE;QACb,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,UAAU,EAAE;QACV,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;CACF,EAAE;IACD,SAAS,EAAE,UAAE;IACb,WAAW,EAAE,IAAI;IACjB,UAAU,EAAE,KAAK;IACjB,SAAS,EAAE,OAAO;IAClB,SAAS,EAAE,SAAS;CACrB,CAAC,CAAC;AAEH,cAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,aAAa,EAAE,CAAC,CAAC;AACnE,cAAI,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,aAAa,EAAE,CAAC,CAAC;AAEnE,KAAK,CAAC,SAAS,CAAC,cAAI,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AAClE,KAAK,CAAC,SAAS,CAAC,cAAI,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AAElE,kBAAe,KAAK,CAAC","sourcesContent":["import { DataTypes, Model } from 'sequelize';\nimport db from '.';\nimport Club from './Club';\n\nclass Match extends Model {\n  public id: number;\n\n  public homeTeam: number;\n\n  public homeTeamGoals: number;\n\n  public awayTeam: number;\n\n  public awayTeamGoals: number;\n\n  public inProgress: boolean;\n}\n\nMatch.init({\n  id: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n    autoIncrement: true,\n    primaryKey: true,\n  },\n  homeTeam: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n  },\n  homeTeamGoals: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n  },\n  awayTeam: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n  },\n  awayTeamGoals: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n  },\n  inProgress: {\n    type: DataTypes.BOOLEAN,\n    allowNull: false,\n  },\n}, {\n  sequelize: db,\n  underscored: true,\n  timestamps: false,\n  modelName: 'Match',\n  tableName: 'matches',\n});\n\nClub.hasMany(Match, { foreignKey: 'homeTeam', as: 'homeMatches' });\nClub.hasMany(Match, { foreignKey: 'awayTeam', as: 'awayMatches' });\n\nMatch.belongsTo(Club, { foreignKey: 'homeTeam', as: 'homeClub' });\nMatch.belongsTo(Club, { foreignKey: 'awayTeam', as: 'awayClub' });\n\nexport default Match;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"722a9dc71d51ac21ad0ae2f70d5f64cff92a6f2b","contentHash":"6d901b23e95819f20eccf69a2e7ff7cf7c9454f815463deeceb8d02556e6846b"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/login.service.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/login.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":47}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":31}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":41}},"5":{"start":{"line":11,"column":21},"end":{"line":11,"column":81}},"6":{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":83}},"8":{"start":{"line":15,"column":46},"end":{"line":15,"column":50}},"9":{"start":{"line":16,"column":22},"end":{"line":16,"column":70}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":83}},"11":{"start":{"line":20,"column":0},"end":{"line":20,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":56},"end":{"line":9,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":29},"end":{"line":18,"column":5}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":14,"column":9}},{"start":{"line":12,"column":8},"end":{"line":14,"column":9}}],"line":12},"1":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":79}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":17}},{"start":{"line":12,"column":21},"end":{"line":12,"column":79}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":6,"6":6,"7":2,"8":4,"9":4,"10":4,"11":1},"f":{"0":1,"1":6},"b":{"0":[2,4],"1":[6,5]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/login.service.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/login.service.ts"],"names":[],"mappings":";;;AAEA,MAAa,YAAY;IACvB,YACU,eAAiC,EACjC,OAA0D,EAC1D,YAA+C;QAF/C,oBAAe,GAAf,eAAe,CAAkB;QACjC,YAAO,GAAP,OAAO,CAAmD;QAC1D,iBAAY,GAAZ,YAAY,CAAmC;IACtD,CAAC;IAEJ,KAAK,CAAC,KAAK,CAAC,WAAyB;QACnC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAE1E,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE;YACvE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,6BAA6B,EAAE,EAAE,CAAC;SACxE;QAED,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAE3C,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAC;QAE/D,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC;IAC7E,CAAC;CACF;AApBD,oCAoBC","sourcesContent":["import { ICredentials, ITokenData, IUsersRepository, ILoginService } from '../interfaces';\n\nexport class LoginService implements ILoginService {\n  constructor(\n    private usersRepository: IUsersRepository,\n    private compare: (plain: string, hash: string) => Promise<boolean>,\n    private jwtGenerator: (tokenData: ITokenData) => string,\n  ) {}\n\n  async login(credentials: ICredentials) {\n    const user = await this.usersRepository.getUserByEmail(credentials.email);\n\n    if (!user || !(await this.compare(credentials.password, user.password))) {\n      return { code: 401, data: { message: 'Incorrect email or password' } };\n    }\n\n    const { id, email, role, username } = user;\n\n    const token = this.jwtGenerator({ id, email, role, username });\n\n    return { code: 200, data: { user: { id, email, role, username }, token } };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c608ed2b6a31589eac76f1405d2c08dc4afc33a0","contentHash":"9a3e1e611c755152e8772f805df75d9291bf7f50b028c909b02107c6d2de7fbb"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/matches.service.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/matches.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":51}},"3":{"start":{"line":7,"column":8},"end":{"line":7,"column":47}},"4":{"start":{"line":11,"column":8},"end":{"line":17,"column":9}},"5":{"start":{"line":12,"column":12},"end":{"line":12,"column":69}},"6":{"start":{"line":15,"column":12},"end":{"line":16,"column":71}},"7":{"start":{"line":18,"column":8},"end":{"line":18,"column":46}},"8":{"start":{"line":21,"column":22},"end":{"line":21,"column":67}},"9":{"start":{"line":22,"column":8},"end":{"line":22,"column":104}},"10":{"start":{"line":25,"column":22},"end":{"line":28,"column":10}},"11":{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},"12":{"start":{"line":30,"column":12},"end":{"line":30,"column":86}},"13":{"start":{"line":32,"column":25},"end":{"line":32,"column":69}},"14":{"start":{"line":33,"column":8},"end":{"line":33,"column":45}},"15":{"start":{"line":36,"column":23},"end":{"line":36,"column":67}},"16":{"start":{"line":37,"column":8},"end":{"line":38,"column":87}},"17":{"start":{"line":41,"column":23},"end":{"line":41,"column":77}},"18":{"start":{"line":42,"column":8},"end":{"line":43,"column":87}},"19":{"start":{"line":46,"column":0},"end":{"line":46,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":52},"end":{"line":8,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":48},"end":{"line":19,"column":5}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":27},"end":{"line":23,"column":5}},"line":20},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":26},"end":{"line":34,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":26},"end":{"line":39,"column":5}},"line":35},"5":{"name":"(anonymous_5)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":36},"end":{"line":44,"column":5}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":24},"end":{"line":9,"column":46}},"type":"default-arg","locations":[{"start":{"line":9,"column":37},"end":{"line":9,"column":46}}],"line":9},"1":{"loc":{"start":{"line":11,"column":8},"end":{"line":17,"column":9}},"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":17,"column":9}},{"start":{"line":11,"column":8},"end":{"line":17,"column":9}}],"line":11},"2":{"loc":{"start":{"line":15,"column":24},"end":{"line":16,"column":70}},"type":"cond-expr","locations":[{"start":{"line":15,"column":37},"end":{"line":15,"column":91}},{"start":{"line":16,"column":18},"end":{"line":16,"column":70}}],"line":15},"3":{"loc":{"start":{"line":22,"column":15},"end":{"line":22,"column":103}},"type":"cond-expr","locations":[{"start":{"line":22,"column":23},"end":{"line":22,"column":49}},{"start":{"line":22,"column":52},"end":{"line":22,"column":103}}],"line":22},"4":{"loc":{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},{"start":{"line":29,"column":8},"end":{"line":31,"column":9}}],"line":29},"5":{"loc":{"start":{"line":37,"column":15},"end":{"line":38,"column":86}},"type":"cond-expr","locations":[{"start":{"line":37,"column":24},"end":{"line":37,"column":74}},{"start":{"line":38,"column":14},"end":{"line":38,"column":86}}],"line":37},"6":{"loc":{"start":{"line":42,"column":15},"end":{"line":43,"column":86}},"type":"cond-expr","locations":[{"start":{"line":42,"column":24},"end":{"line":42,"column":79}},{"start":{"line":43,"column":14},"end":{"line":43,"column":86}}],"line":42}},"s":{"0":1,"1":1,"2":1,"3":1,"4":3,"5":1,"6":2,"7":3,"8":5,"9":5,"10":5,"11":5,"12":1,"13":4,"14":4,"15":6,"16":6,"17":3,"18":3,"19":1},"f":{"0":1,"1":3,"2":5,"3":5,"4":6,"5":3},"b":{"0":[1],"1":[1,2],"2":[1,1],"3":[4,1],"4":[1,4],"5":[4,2],"6":[1,2]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/matches.service.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/services/matches.service.ts"],"names":[],"mappings":";;;AASA,MAAa,cAAc;IACzB,YACU,iBAAqC,EACrC,eAAiC;QADjC,sBAAiB,GAAjB,iBAAiB,CAAoB;QACrC,oBAAe,GAAf,eAAe,CAAkB;IACxC,CAAC;IAEJ,KAAK,CAAC,aAAa,CAAC,aAAkC,SAAS;QAC7D,IAAI,SAAmB,CAAC;QAExB,IAAI,UAAU,KAAK,SAAS,EAAE;YAC5B,SAAS,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;SAC1D;aAAM;YACL,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,iBAAiB,CAAC,uBAAuB,EAAE;gBAC7E,CAAC,CAAC,MAAM,IAAI,CAAC,iBAAiB,CAAC,qBAAqB,EAAE,CAAC;SAC1D;QAED,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;IACxC,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,EAAU;QAC3B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;QAE5D,OAAO,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,iBAAiB,EAAE,EAAE,CAAC;IAClG,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,IAAe;QAC7B,MAAM,KAAK,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;YAC9B,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YAC1D,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;SAC3D,CAAC,CAAC;QAEH,IAAI,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE;YAC7B,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,gCAAgC,EAAE,EAAE,CAAC;SAC3E;QAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAE9D,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;IACvC,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,EAAU;QAC1B,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QAE5D,OAAO,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,gBAAgB,EAAE,EAAE;YAChE,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,sCAAsC,EAAE,EAAE,CAAC;IAC/E,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,EAAU,EAAE,QAAgB;QAC5C,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;QAEtE,OAAO,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,qBAAqB,EAAE,EAAE;YACrE,CAAC,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,OAAO,EAAE,sCAAsC,EAAE,EAAE,CAAC;IAC/E,CAAC;CACF;AArDD,wCAqDC","sourcesContent":["import {\n  INewMatch,\n  IScore,\n  IClubsRepository,\n  IMatchesRepository,\n  IMatch,\n  IMatchesService,\n} from '../interfaces';\n\nexport class MatchesService implements IMatchesService {\n  constructor(\n    private matchesRepository: IMatchesRepository,\n    private clubsRepository: IClubsRepository,\n  ) {}\n\n  async getAllMatches(inProgress: boolean | undefined = undefined) {\n    let matchList: IMatch[];\n\n    if (inProgress === undefined) {\n      matchList = await this.matchesRepository.getAllMatches();\n    } else {\n      matchList = inProgress ? await this.matchesRepository.getAllInProgressMatches()\n        : await this.matchesRepository.getAllFinishedMatches();\n    }\n\n    return { code: 200, data: matchList };\n  }\n\n  async getMatchById(id: string) {\n    const match = await this.matchesRepository.getMatchById(id);\n\n    return match ? { code: 200, data: match } : { code: 404, data: { message: 'Match not found' } };\n  }\n\n  async saveMatch(data: INewMatch) {\n    const teams = await Promise.all([\n      this.clubsRepository.getClubById(data.homeTeam.toString()),\n      this.clubsRepository.getClubById(data.awayTeam.toString()),\n    ]);\n\n    if (teams.includes(undefined)) {\n      return { code: 401, data: { message: 'There is no team with such id!' } };\n    }\n\n    const newMatch = await this.matchesRepository.saveMatch(data);\n\n    return { code: 201, data: newMatch };\n  }\n\n  async finishMatch(id: string) {\n    const status = await this.matchesRepository.finishMatch(id);\n\n    return status ? { code: 200, data: { message: 'Finished match' } }\n      : { code: 422, data: { message: 'Match already over or does not exist' } };\n  }\n\n  async updateScore(id: string, newScore: IScore) {\n    const status = await this.matchesRepository.updateScore(id, newScore);\n\n    return status ? { code: 200, data: { message: 'Match score updated' } }\n      : { code: 422, data: { message: 'Match already over or does not exist' } };\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d24c88e27f9b20febd53b990ffffab85da46442c","contentHash":"0f091b399fa35a88cd12e85d7f72f2502110005c2ace7d073bac2355df7053bc"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/index.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":126}},"10":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"11":{"start":{"line":10,"column":95},"end":{"line":10,"column":126}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":53}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":55}},"15":{"start":{"line":15,"column":0},"end":{"line":15,"column":53}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":50},"end":{"line":9,"column":51}},"loc":{"start":{"line":9,"column":71},"end":{"line":11,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"type":"binary-expr","locations":[{"start":{"line":9,"column":20},"end":{"line":9,"column":24}},{"start":{"line":9,"column":28},"end":{"line":9,"column":45}},{"start":{"line":9,"column":50},"end":{"line":11,"column":1}}],"line":9},"5":{"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"type":"if","locations":[{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},{"start":{"line":10,"column":21},"end":{"line":10,"column":126}}],"line":10},"6":{"loc":{"start":{"line":10,"column":25},"end":{"line":10,"column":93}},"type":"binary-expr","locations":[{"start":{"line":10,"column":25},"end":{"line":10,"column":40}},{"start":{"line":10,"column":44},"end":{"line":10,"column":93}}],"line":10}},"s":{"0":1,"1":3,"2":3,"3":3,"4":4,"5":0,"6":0,"7":0,"8":1,"9":3,"10":3,"11":3,"12":1,"13":1,"14":1,"15":1},"f":{"0":3,"1":4,"2":0,"3":3},"b":{"0":[1,1,1],"1":[1,0],"2":[3,0],"3":[0,0],"4":[1,1,1],"5":[3,0],"6":[3,3]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/index.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/index.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qDAAmC;AACnC,uDAAqC;AACrC,qDAAmC","sourcesContent":["export * from './clubs.repository';\nexport * from './matches.repository';\nexport * from './users.repository';\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3b778fc81c3957a9301944112ab62570f27e647d","contentHash":"bd853b0e4fd9fd014ea13bc4afd3b98926675331c1aa94bf94e31fb7a4507a0c"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/clubs.repository.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/clubs.repository.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":46}},"3":{"start":{"line":7,"column":8},"end":{"line":8,"column":54}},"4":{"start":{"line":8,"column":27},"end":{"line":8,"column":52}},"5":{"start":{"line":12,"column":8},"end":{"line":12,"column":123}},"6":{"start":{"line":15,"column":0},"end":{"line":15,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":24},"end":{"line":9,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":17},"end":{"line":8,"column":18}},"loc":{"start":{"line":8,"column":27},"end":{"line":8,"column":52}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":26},"end":{"line":13,"column":5}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":15},"end":{"line":12,"column":122}},"type":"cond-expr","locations":[{"start":{"line":12,"column":90},"end":{"line":12,"column":96}},{"start":{"line":12,"column":99},"end":{"line":12,"column":122}}],"line":12},"1":{"loc":{"start":{"line":12,"column":15},"end":{"line":12,"column":87}},"type":"binary-expr","locations":[{"start":{"line":12,"column":15},"end":{"line":12,"column":70}},{"start":{"line":12,"column":74},"end":{"line":12,"column":87}}],"line":12}},"s":{"0":1,"1":1,"2":1,"3":1,"4":16,"5":12,"6":1},"f":{"0":1,"1":16,"2":12},"b":{"0":[2,10],"1":[12,10]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/clubs.repository.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/clubs.repository.ts"],"names":[],"mappings":";;;AAAA,+CAA+C;AAG/C,MAAa,eAAe;IAC1B,KAAK,CAAC,WAAW;QACf,OAAO,CAAC,MAAM,kBAAS,CAAC,OAAO,EAAE,CAAC;aAC/B,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAC9C,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,EAAU;;QAC1B,OAAO,MAAA,CAAC,MAAM,kBAAS,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,0CACjC,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;IAC3B,CAAC;CACF;AAVD,0CAUC","sourcesContent":["import { ClubModel } from '../database/models';\nimport { IClubsRepository, IClub } from '../interfaces';\n\nexport class ClubsRepository implements IClubsRepository {\n  async getAllClubs(): Promise<IClub[]> {\n    return (await ClubModel.findAll())\n      .map((club) => club.get({ plain: true }));\n  }\n\n  async getClubById(id: string): Promise<IClub | undefined> {\n    return (await ClubModel.findByPk(id))\n      ?.get({ plain: true });\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4775238251b442f7968329478d801cd610c16c4b","contentHash":"d55bda8a87e04c045c943e41361ead4fcb97c036bba65956b935719ca885a8ac"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/matches.repository.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/matches.repository.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":46}},"3":{"start":{"line":7,"column":8},"end":{"line":14,"column":56}},"4":{"start":{"line":14,"column":28},"end":{"line":14,"column":54}},"5":{"start":{"line":17,"column":8},"end":{"line":24,"column":56}},"6":{"start":{"line":24,"column":28},"end":{"line":24,"column":54}},"7":{"start":{"line":27,"column":8},"end":{"line":33,"column":56}},"8":{"start":{"line":33,"column":28},"end":{"line":33,"column":54}},"9":{"start":{"line":37,"column":8},"end":{"line":42,"column":74}},"10":{"start":{"line":45,"column":8},"end":{"line":46,"column":34}},"11":{"start":{"line":49,"column":25},"end":{"line":49,"column":99}},"12":{"start":{"line":50,"column":8},"end":{"line":50,"column":22}},"13":{"start":{"line":53,"column":25},"end":{"line":53,"column":104}},"14":{"start":{"line":54,"column":8},"end":{"line":54,"column":22}},"15":{"start":{"line":57,"column":0},"end":{"line":57,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":36},"end":{"line":15,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":17},"end":{"line":14,"column":18}},"loc":{"start":{"line":14,"column":28},"end":{"line":14,"column":54}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":34},"end":{"line":25,"column":5}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":17},"end":{"line":24,"column":18}},"loc":{"start":{"line":24,"column":28},"end":{"line":24,"column":54}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":26},"end":{"line":34,"column":5}},"line":26},"5":{"name":"(anonymous_5)","decl":{"start":{"line":33,"column":17},"end":{"line":33,"column":18}},"loc":{"start":{"line":33,"column":28},"end":{"line":33,"column":54}},"line":33},"6":{"name":"(anonymous_6)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":27},"end":{"line":43,"column":5}},"line":35},"7":{"name":"(anonymous_7)","decl":{"start":{"line":44,"column":4},"end":{"line":44,"column":5}},"loc":{"start":{"line":44,"column":26},"end":{"line":47,"column":5}},"line":44},"8":{"name":"(anonymous_8)","decl":{"start":{"line":48,"column":4},"end":{"line":48,"column":5}},"loc":{"start":{"line":48,"column":26},"end":{"line":51,"column":5}},"line":48},"9":{"name":"(anonymous_9)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":36},"end":{"line":55,"column":5}},"line":52}},"branchMap":{"0":{"loc":{"start":{"line":37,"column":15},"end":{"line":42,"column":73}},"type":"cond-expr","locations":[{"start":{"line":42,"column":41},"end":{"line":42,"column":47}},{"start":{"line":42,"column":50},"end":{"line":42,"column":73}}],"line":37},"1":{"loc":{"start":{"line":37,"column":15},"end":{"line":42,"column":38}},"type":"binary-expr","locations":[{"start":{"line":37,"column":15},"end":{"line":42,"column":21}},{"start":{"line":42,"column":25},"end":{"line":42,"column":38}}],"line":37}},"s":{"0":1,"1":1,"2":1,"3":1,"4":8,"5":1,"6":40,"7":1,"8":48,"9":5,"10":4,"11":6,"12":6,"13":3,"14":3,"15":1},"f":{"0":1,"1":8,"2":1,"3":40,"4":1,"5":48,"6":5,"7":4,"8":6,"9":3},"b":{"0":[1,4],"1":[5,4]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/matches.repository.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/matches.repository.ts"],"names":[],"mappings":";;;AACA,+CAA2D;AAE3D,MAAa,iBAAiB;IAC5B,KAAK,CAAC,uBAAuB;QAC3B,OAAO,CAAC,MAAM,mBAAU,CAAC,OAAO,CAAC;YAC/B,KAAK,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE;YAC3B,OAAO,EAAE;gBACP,EAAE,KAAK,EAAE,kBAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;gBAC9D,EAAE,KAAK,EAAE,kBAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;aAC/D;SACF,CAAC,CAAC;aACA,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAChD,CAAC;IAED,KAAK,CAAC,qBAAqB;QACzB,OAAO,CAAC,MAAM,mBAAU,CAAC,OAAO,CAAC;YAC/B,KAAK,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE;YAC5B,OAAO,EAAE;gBACP,EAAE,KAAK,EAAE,kBAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;gBAC9D,EAAE,KAAK,EAAE,kBAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;aAC/D;SACF,CAAC,CAAC;aACA,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAChD,CAAC;IAED,KAAK,CAAC,aAAa;QACjB,OAAO,CAAC,MAAM,mBAAU,CAAC,OAAO,CAAC;YAC/B,OAAO,EAAE;gBACP,EAAE,KAAK,EAAE,kBAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;gBAC9D,EAAE,KAAK,EAAE,kBAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;aAC/D;SACF,CAAC,CAAC;aACA,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAChD,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,EAAU;;QAC3B,OAAO,MAAA,CAAC,MAAM,mBAAU,CAAC,QAAQ,CAAC,EAAE,EAAE;YACpC,OAAO,EAAE;gBACP,EAAE,KAAK,EAAE,kBAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;gBAC9D,EAAE,KAAK,EAAE,kBAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;aAC/D;SACF,CAAC,CAAC,0CACC,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;IAC3B,CAAC;IAED,KAAK,CAAC,SAAS,CAAC,IAAe;QAC7B,OAAO,CAAC,MAAM,mBAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;aACnC,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;IAC1B,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,EAAU;QAC1B,MAAM,CAAC,MAAM,CAAC,GAAG,MAAM,mBAAU,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACnF,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,EAAU,EAAE,QAAgB;QAC5C,MAAM,CAAC,MAAM,CAAC,GAAG,MAAM,mBAAU,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;QACxF,OAAO,MAAM,CAAC;IAChB,CAAC;CACF;AAzDD,8CAyDC","sourcesContent":["import { IMatchesRepository, INewMatch, IScore, IMatch, INewMatchResponse } from '../interfaces';\nimport { MatchModel, ClubModel } from '../database/models';\n\nexport class MatchesRepository implements IMatchesRepository {\n  async getAllInProgressMatches(): Promise<IMatch[]> {\n    return (await MatchModel.findAll({\n      where: { inProgress: true },\n      include: [\n        { model: ClubModel, as: 'homeClub', attributes: ['clubName'] },\n        { model: ClubModel, as: 'awayClub', attributes: ['clubName'] },\n      ],\n    }))\n      .map((match) => match.get({ plain: true }));\n  }\n\n  async getAllFinishedMatches(): Promise<IMatch[]> {\n    return (await MatchModel.findAll({\n      where: { inProgress: false },\n      include: [\n        { model: ClubModel, as: 'homeClub', attributes: ['clubName'] },\n        { model: ClubModel, as: 'awayClub', attributes: ['clubName'] },\n      ],\n    }))\n      .map((match) => match.get({ plain: true }));\n  }\n\n  async getAllMatches(): Promise<IMatch[]> {\n    return (await MatchModel.findAll({\n      include: [\n        { model: ClubModel, as: 'homeClub', attributes: ['clubName'] },\n        { model: ClubModel, as: 'awayClub', attributes: ['clubName'] },\n      ],\n    }))\n      .map((match) => match.get({ plain: true }));\n  }\n\n  async getMatchById(id: string): Promise<IMatch> {\n    return (await MatchModel.findByPk(id, {\n      include: [\n        { model: ClubModel, as: 'homeClub', attributes: ['clubName'] },\n        { model: ClubModel, as: 'awayClub', attributes: ['clubName'] },\n      ],\n    }))\n      ?.get({ plain: true });\n  }\n\n  async saveMatch(data: INewMatch): Promise<INewMatchResponse> {\n    return (await MatchModel.create(data))\n      .get({ plain: true });\n  }\n\n  async finishMatch(id: string): Promise<number> {\n    const [status] = await MatchModel.update({ inProgress: false }, { where: { id } });\n    return status;\n  }\n\n  async updateScore(id: string, newScore: IScore): Promise<number> {\n    const [status] = await MatchModel.update(newScore, { where: { id, inProgress: true } });\n    return status;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7bb3eef3a346223f86d82582c26aedf647e39624","contentHash":"f69b604ab83ec861890c9325001d7de51fd5af1f3321cbec596044e604f2b42c"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/users.repository.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/users.repository.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":46}},"3":{"start":{"line":8,"column":8},"end":{"line":10,"column":74}},"4":{"start":{"line":13,"column":0},"end":{"line":13,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":32},"end":{"line":11,"column":5}},"line":6}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":15},"end":{"line":10,"column":73}},"type":"cond-expr","locations":[{"start":{"line":10,"column":41},"end":{"line":10,"column":47}},{"start":{"line":10,"column":50},"end":{"line":10,"column":73}}],"line":8},"1":{"loc":{"start":{"line":8,"column":15},"end":{"line":10,"column":38}},"type":"binary-expr","locations":[{"start":{"line":8,"column":15},"end":{"line":10,"column":21}},{"start":{"line":10,"column":25},"end":{"line":10,"column":38}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":6,"4":1},"f":{"0":6},"b":{"0":[1,5],"1":[6,5]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/users.repository.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/repositories/users.repository.ts"],"names":[],"mappings":";;;AACA,+CAA+C;AAE/C,MAAa,eAAe;IAC1B,KAAK,CAAC,cAAc,CAAC,KAAa;;QAChC,OAAO,MAAA,CAAC,MAAM,kBAAS,CAAC,OAAO,CAAC;YAC9B,KAAK,EAAE,EAAE,KAAK,EAAE;SACjB,CAAC,CAAC,0CACC,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;IAC3B,CAAC;CACF;AAPD,0CAOC","sourcesContent":["import { IUser, IUsersRepository } from '../interfaces';\nimport { UserModel } from '../database/models';\n\nexport class UsersRepository implements IUsersRepository {\n  async getUserByEmail(email: string): Promise<IUser | null> {\n    return (await UserModel.findOne({\n      where: { email },\n    }))\n      ?.get({ plain: true });\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aa82da13753b4ab127a48bb249c7a911d40e3e8f","contentHash":"b47213e385e20e9e691eb5fa1079919f781bd5b56c911d198a8e746ce69130ee"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/login.factory.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/login.factory.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":41}},"4":{"start":{"line":6,"column":23},"end":{"line":6,"column":49}},"5":{"start":{"line":7,"column":18},"end":{"line":7,"column":39}},"6":{"start":{"line":8,"column":21},"end":{"line":8,"column":136}},"7":{"start":{"line":8,"column":27},"end":{"line":8,"column":136}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":21},"end":{"line":8,"column":22}},"loc":{"start":{"line":8,"column":27},"end":{"line":8,"column":136}},"line":8}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/login.factory.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/login.factory.ts"],"names":[],"mappings":";;;AAAA,uCAAmC;AACnC,0CAA2C;AAC3C,kDAAkD;AAClD,wCAA0C;AAEnC,MAAM,YAAY,GAAG,GAAG,EAAE,CAAC,IAAI,uBAAY,CAAC,IAAI,8BAAe,EAAE,EAAE,kBAAO,EAAE,sBAAY,CAAC,CAAC;AAApF,QAAA,YAAY,gBAAwE","sourcesContent":["import { compare } from 'bcryptjs';\nimport { LoginService } from '../services';\nimport { UsersRepository } from '../repositories';\nimport { jwtGenerator } from '../helpers';\n\nexport const loginFactory = () => new LoginService(new UsersRepository(), compare, jwtGenerator);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2f215e9467c6ac0a9c3bf9632bf51f9ce84f771d","contentHash":"942dd64bb78343887bfc977dc8d80b07193f34f1279900dc1330ebba62bcd7cf"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/helpers/index.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/helpers/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":126}},"10":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"11":{"start":{"line":10,"column":95},"end":{"line":10,"column":126}},"12":{"start":{"line":12,"column":0},"end":{"line":12,"column":62}},"13":{"start":{"line":13,"column":0},"end":{"line":13,"column":49}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":50},"end":{"line":9,"column":51}},"loc":{"start":{"line":9,"column":71},"end":{"line":11,"column":1}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"type":"binary-expr","locations":[{"start":{"line":9,"column":20},"end":{"line":9,"column":24}},{"start":{"line":9,"column":28},"end":{"line":9,"column":45}},{"start":{"line":9,"column":50},"end":{"line":11,"column":1}}],"line":9},"5":{"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},"type":"if","locations":[{"start":{"line":10,"column":21},"end":{"line":10,"column":126}},{"start":{"line":10,"column":21},"end":{"line":10,"column":126}}],"line":10},"6":{"loc":{"start":{"line":10,"column":25},"end":{"line":10,"column":93}},"type":"binary-expr","locations":[{"start":{"line":10,"column":25},"end":{"line":10,"column":40}},{"start":{"line":10,"column":44},"end":{"line":10,"column":93}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{"0":1,"1":1,"2":0,"3":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/helpers/index.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/helpers/index.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,iDAA+B","sourcesContent":["export * from './jwtGenerator';\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5a8f0c35f7393be89d0668d56181bca9be4cb2b7","contentHash":"d3e9e5d9669c7755572ddae37d74677bbc9378484a0e2090adc5d0cfd3b1cf30"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/helpers/jwtGenerator.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/helpers/jwtGenerator.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"4":{"start":{"line":7,"column":13},"end":{"line":7,"column":26}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":63}},"6":{"start":{"line":9,"column":18},"end":{"line":9,"column":37}},"7":{"start":{"line":10,"column":15},"end":{"line":10,"column":81}},"8":{"start":{"line":11,"column":21},"end":{"line":11,"column":90}},"9":{"start":{"line":11,"column":31},"end":{"line":11,"column":90}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":11,"column":21},"end":{"line":11,"column":22}},"loc":{"start":{"line":11,"column":31},"end":{"line":11,"column":90}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":4,"10":1},"f":{"0":1,"1":4},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/helpers/jwtGenerator.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/helpers/jwtGenerator.ts"],"names":[],"mappings":";;;;;;AAAA,2BAAkC;AAClC,gEAA+B;AAG/B,MAAM,SAAS,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;AAEtC,MAAM,MAAM,GAAG,IAAA,iBAAY,EAAC,oBAAoB,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;AAEjE,MAAM,YAAY,GAAG,CAAC,IAAgB,EAAE,EAAE,CAAC,sBAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,EAAE,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;AAA9E,QAAA,YAAY,gBAAkE","sourcesContent":["import { readFileSync } from 'fs';\nimport jwt from 'jsonwebtoken';\nimport { ITokenData } from '../interfaces';\n\nconst jwtConfig = { expiresIn: '1d' };\n\nconst SECRET = readFileSync('jwt.evaluation.key', { encoding: 'utf8' });\n\nexport const jwtGenerator = (data: ITokenData) => jwt.sign({ ...data }, SECRET, jwtConfig);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e2e748671e2e2b9300899e85e3381b66f7cd7871","contentHash":"c9dfb933bf6a0b0b6e36845451d2bfc42f60bdf6fc69e40ecc50f6ff6d90d8f9"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/matches.factory.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/matches.factory.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":23},"end":{"line":4,"column":49}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":41}},"4":{"start":{"line":6,"column":23},"end":{"line":6,"column":136}},"5":{"start":{"line":6,"column":29},"end":{"line":6,"column":136}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":23},"end":{"line":6,"column":24}},"loc":{"start":{"line":6,"column":29},"end":{"line":6,"column":136}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/matches.factory.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/factories/matches.factory.ts"],"names":[],"mappings":";;;AAAA,kDAAqE;AACrE,0CAA6C;AAEtC,MAAM,cAAc,GAAG,GAAG,EAAE,CAAC,IAAI,yBAAc,CAAC,IAAI,gCAAiB,EAAE,EAAE,IAAI,8BAAe,EAAE,CAAC,CAAC;AAA1F,QAAA,cAAc,kBAA4E","sourcesContent":["import { MatchesRepository, ClubsRepository } from '../repositories';\nimport { MatchesService } from '../services';\n\nexport const matchesFactory = () => new MatchesService(new MatchesRepository(), new ClubsRepository());\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8de91f51e9e4c1d1101b0ed0d60508c32af5a942","contentHash":"ec1270ba79655744edc6f7851857db0258a8c774d9cf5476a6780ec5b0ef3e26"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/leaderboard.router.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/leaderboard.router.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":18},"end":{"line":4,"column":36}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":41}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":70}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":46}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":30}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":30}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":33}},"9":{"start":{"line":15,"column":8},"end":{"line":18,"column":11}},"10":{"start":{"line":16,"column":35},"end":{"line":16,"column":81}},"11":{"start":{"line":17,"column":12},"end":{"line":17,"column":47}},"12":{"start":{"line":21,"column":8},"end":{"line":24,"column":11}},"13":{"start":{"line":22,"column":35},"end":{"line":22,"column":81}},"14":{"start":{"line":23,"column":12},"end":{"line":23,"column":47}},"15":{"start":{"line":27,"column":8},"end":{"line":30,"column":11}},"16":{"start":{"line":28,"column":35},"end":{"line":28,"column":84}},"17":{"start":{"line":29,"column":12},"end":{"line":29,"column":47}},"18":{"start":{"line":33,"column":0},"end":{"line":33,"column":46}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":13,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":21},"end":{"line":19,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":33},"end":{"line":15,"column":34}},"loc":{"start":{"line":15,"column":54},"end":{"line":18,"column":9}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":21},"end":{"line":25,"column":5}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":33},"end":{"line":21,"column":34}},"loc":{"start":{"line":21,"column":54},"end":{"line":24,"column":9}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":24},"end":{"line":31,"column":5}},"line":26},"6":{"name":"(anonymous_6)","decl":{"start":{"line":27,"column":29},"end":{"line":27,"column":30}},"loc":{"start":{"line":27,"column":50},"end":{"line":30,"column":9}},"line":27}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":2,"11":2,"12":1,"13":2,"14":2,"15":1,"16":2,"17":2,"18":1},"f":{"0":1,"1":1,"2":2,"3":1,"4":2,"5":1,"6":2},"b":{},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/leaderboard.router.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/leaderboard.router.ts"],"names":[],"mappings":";;;AAAA,qCAAoD;AACpD,0CAAiD;AAEjD,MAAa,iBAAiB;IAK5B;QACE,IAAI,CAAC,kBAAkB,GAAG,IAAI,6BAAkB,EAAE,CAAC;QACnD,IAAI,CAAC,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;QACvB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAEO,cAAc;QACpB,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,OAAO,EACP,KAAK,EAAE,IAAa,EAAE,GAAa,EAAE,EAAE;YACrC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,CAAC;YACtE,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CACF,CAAC;IACJ,CAAC;IAEO,cAAc;QACpB,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,OAAO,EACP,KAAK,EAAE,IAAa,EAAE,GAAa,EAAE,EAAE;YACrC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,CAAC;YACtE,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CACF,CAAC;IACJ,CAAC;IAEO,iBAAiB;QACvB,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,GAAG,EACH,KAAK,EAAE,IAAa,EAAE,GAAa,EAAE,EAAE;YACrC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,EAAE,CAAC;YACzE,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CACF,CAAC;IACJ,CAAC;CACF;AA1CD,8CA0CC","sourcesContent":["import { Router, Request, Response } from 'express';\nimport { LeaderboardService } from '../services';\n\nexport class LeaderboardRouter {\n  public router: Router;\n\n  private LeaderboardService: LeaderboardService;\n\n  constructor() {\n    this.LeaderboardService = new LeaderboardService();\n    this.router = Router();\n    this.getHomeRanking();\n    this.getAwayRanking();\n    this.getOverallRanking();\n  }\n\n  private getHomeRanking(): void {\n    this.router.get(\n      '/home',\n      async (_req: Request, res: Response) => {\n        const { code, data } = await this.LeaderboardService.getHomeRanking();\n        return res.status(code).json(data);\n      },\n    );\n  }\n\n  private getAwayRanking(): void {\n    this.router.get(\n      '/away',\n      async (_req: Request, res: Response) => {\n        const { code, data } = await this.LeaderboardService.getAwayRanking();\n        return res.status(code).json(data);\n      },\n    );\n  }\n\n  private getOverallRanking(): void {\n    this.router.get(\n      '/',\n      async (_req: Request, res: Response) => {\n        const { code, data } = await this.LeaderboardService.getOverallRanking();\n        return res.status(code).json(data);\n      },\n    );\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f39f6d9c63b8bc6ba068f7d6a3dcf381725911fa","contentHash":"94884379810c637653dd6f30c4494ce457ff8656e55d6869bce456f02b862730"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/login.router.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/login.router.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":0},"end":{"line":21,"column":62}},"22":{"start":{"line":22,"column":0},"end":{"line":22,"column":29}},"23":{"start":{"line":23,"column":18},"end":{"line":23,"column":36}},"24":{"start":{"line":24,"column":20},"end":{"line":24,"column":43}},"25":{"start":{"line":25,"column":20},"end":{"line":25,"column":59}},"26":{"start":{"line":26,"column":19},"end":{"line":26,"column":64}},"27":{"start":{"line":27,"column":21},"end":{"line":27,"column":52}},"28":{"start":{"line":30,"column":8},"end":{"line":30,"column":46}},"29":{"start":{"line":31,"column":8},"end":{"line":31,"column":21}},"30":{"start":{"line":32,"column":8},"end":{"line":32,"column":29}},"31":{"start":{"line":35,"column":8},"end":{"line":38,"column":11}},"32":{"start":{"line":36,"column":35},"end":{"line":36,"column":69}},"33":{"start":{"line":37,"column":12},"end":{"line":37,"column":47}},"34":{"start":{"line":41,"column":8},"end":{"line":41,"column":120}},"35":{"start":{"line":41,"column":78},"end":{"line":41,"column":118}},"36":{"start":{"line":44,"column":0},"end":{"line":44,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":18},"end":{"line":33,"column":5}},"line":29},"7":{"name":"(anonymous_7)","decl":{"start":{"line":34,"column":4},"end":{"line":34,"column":5}},"loc":{"start":{"line":34,"column":12},"end":{"line":39,"column":5}},"line":34},"8":{"name":"(anonymous_8)","decl":{"start":{"line":35,"column":74},"end":{"line":35,"column":75}},"loc":{"start":{"line":35,"column":94},"end":{"line":38,"column":9}},"line":35},"9":{"name":"(anonymous_9)","decl":{"start":{"line":40,"column":4},"end":{"line":40,"column":5}},"loc":{"start":{"line":40,"column":20},"end":{"line":42,"column":5}},"line":40},"10":{"name":"(anonymous_10)","decl":{"start":{"line":41,"column":58},"end":{"line":41,"column":59}},"loc":{"start":{"line":41,"column":78},"end":{"line":41,"column":118}},"line":41}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":1,"12":2,"13":2,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":6,"33":6,"34":1,"35":1,"36":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":2,"6":1,"7":1,"8":6,"9":1,"10":1},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[2,0],"8":[2,2],"9":[0,0],"10":[0,0],"11":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/login.router.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/login.router.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,qCAAoD;AACpD,4CAA4C;AAE5C,4DAA8C;AAC9C,iEAAmD;AAEnD,MAAM,YAAY,GAAkB,IAAA,wBAAY,GAAE,CAAC;AAEnD,MAAa,WAAW;IAGtB;QACE,IAAI,CAAC,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;QACvB,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAEO,KAAK;QACX,IAAI,CAAC,MAAM,CAAC,IAAI,CACd,GAAG,EACH,WAAW,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC,EAC1C,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YACpC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,MAAM,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAC1D,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACrC,CAAC,CACF,CAAC;IACJ,CAAC;IAEO,aAAa;QACnB,IAAI,CAAC,MAAM,CAAC,GAAG,CACb,WAAW,EACX,WAAW,CAAC,OAAO,EACnB,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,SAAU,CAAC,IAAI,CAAC,CACjF,CAAC;IACJ,CAAC;CACF;AA3BD,kCA2BC","sourcesContent":["import { Router, Request, Response } from 'express';\nimport { loginFactory } from '../factories';\nimport { ILoginService } from '../interfaces';\nimport * as middlewares from '../middlewares';\nimport * as joiSchemas from '../utils/joi.schemas';\n\nconst loginService: ILoginService = loginFactory();\n\nexport class LoginRouter {\n  public router: Router;\n\n  constructor() {\n    this.router = Router();\n    this.login();\n    this.validateLogin();\n  }\n\n  private login(): void {\n    this.router.post(\n      '/',\n      middlewares.validateBody(joiSchemas.login),\n      async (req: Request, res: Response) => {\n        const { code, data } = await loginService.login(req.body);\n        return res.status(code).json(data);\n      },\n    );\n  }\n\n  private validateLogin(): void {\n    this.router.get(\n      '/validate',\n      middlewares.jwtAuth,\n      async (req: Request, res: Response) => res.status(200).send(req.tokenData!.role),\n    );\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9bba14bd33c1faada76e6a952e7c2fe7a740a079","contentHash":"1c3b5f9d24f72254f772759ed4a667d3f031e9963823e43e76db3cb56d5a3588"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/utils/joi.schemas.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/utils/joi.schemas.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":42}},"4":{"start":{"line":7,"column":14},"end":{"line":7,"column":45}},"5":{"start":{"line":8,"column":14},"end":{"line":8,"column":45}},"6":{"start":{"line":9,"column":0},"end":{"line":20,"column":3}},"7":{"start":{"line":21,"column":0},"end":{"line":48,"column":3}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{"0":1},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/utils/joi.schemas.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/utils/joi.schemas.ts"],"names":[],"mappings":";;;;;;AAAA,8CAAsB;AAEtB,MAAM,KAAK,GAAG,+BAA+B,CAAC;AAEjC,QAAA,KAAK,GAAG,aAAG,CAAC,MAAM,CAAC;IAC9B,KAAK,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;QACtC,aAAa,EAAE,4BAA4B;QAC3C,cAAc,EAAE,KAAK;QACrB,cAAc,EAAE,KAAK;KACtB,CAAC;IACF,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;QACzC,aAAa,EAAE,+BAA+B;QAC9C,cAAc,EAAE,KAAK;QACrB,cAAc,EAAE,KAAK;KACtB,CAAC;CACH,CAAC,CAAC;AAEU,QAAA,QAAQ,GAAG,aAAG,CAAC,MAAM,CAAC;IACjC,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;QACpD,aAAa,EAAE,0CAA0C;QACzD,iBAAiB,EAAE,0CAA0C;QAC7D,cAAc,EAAE,gCAAgC;KACjD,CAAC;IACF,QAAQ,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;QACpD,aAAa,EAAE,0CAA0C;QACzD,iBAAiB,EAAE,0CAA0C;QAC7D,cAAc,EAAE,gCAAgC;KACjD,CAAC;IACF,aAAa,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;SACpD,QAAQ,CAAC;QACR,aAAa,EAAE,wCAAwC;QACvD,YAAY,EAAE,yCAAyC;QACvD,cAAc,EAAE,sCAAsC;KACvD,CAAC;IACJ,aAAa,EAAE,aAAG,CAAC,MAAM,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;SACpD,QAAQ,CAAC;QACR,aAAa,EAAE,wCAAwC;QACvD,YAAY,EAAE,yCAAyC;QACvD,cAAc,EAAE,sCAAsC;KACvD,CAAC;IACJ,UAAU,EAAE,aAAG,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;QACxD,cAAc,EAAE,0CAA0C;QAC1D,UAAU,EAAE,0CAA0C;KACvD,CAAC;CACH,CAAC,CAAC","sourcesContent":["import Joi from 'joi';\n\nconst error = '401|All fields must be filled';\n\nexport const login = Joi.object({\n  email: Joi.string().required().messages({\n    'string.base': '422|Email must be a string',\n    'string.empty': error,\n    'any.required': error,\n  }),\n  password: Joi.string().required().messages({\n    'string.base': '422|Password must be a string',\n    'string.empty': error,\n    'any.required': error,\n  }),\n});\n\nexport const newMatch = Joi.object({\n  homeTeam: Joi.number().positive().required().messages({\n    'number.base': '422|Home Team must be a positive integer',\n    'number.positive': '422|Home Team must be a positive integer',\n    'any.required': '400|Home Team must be provided',\n  }),\n  awayTeam: Joi.number().positive().required().messages({\n    'number.base': '422|Away Team must be a positive integer',\n    'number.positive': '422|Away Team must be a positive integer',\n    'any.required': '400|Away Team must be provided',\n  }),\n  homeTeamGoals: Joi.number().integer().min(0).required()\n    .messages({\n      'number.base': '422|Home Team Goals must be an integer',\n      'number.min': '422|Home Team Goals can not be negative',\n      'any.required': '400|Home Team Goals must be provided',\n    }),\n  awayTeamGoals: Joi.number().integer().min(0).required()\n    .messages({\n      'number.base': '422|Away Team Goals must be an integer',\n      'number.min': '422|Away Team Goals can not be negative',\n      'any.required': '400|Away Team Goals must be provided',\n    }),\n  inProgress: Joi.boolean().valid(true).required().messages({\n    'any.required': '400|In Progress must be provided as true',\n    'any.only': '422|In Progress must be provided as true',\n  }),\n});\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"15054ad0019b2b5000d6b4876576d3154e4b9796","contentHash":"ae407f7a0be9a12a15feef1b1927dc858b02f0b905ea950271285d2779ed078c"},"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/matches.router.ts":{"path":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/matches.router.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":89}},"4":{"start":{"line":4,"column":71},"end":{"line":4,"column":83}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"6":{"start":{"line":6,"column":26},"end":{"line":6,"column":33}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"8":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":72}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":21}},"11":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"13":{"start":{"line":15,"column":31},"end":{"line":15,"column":42}},"14":{"start":{"line":16,"column":17},"end":{"line":16,"column":19}},"15":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"16":{"start":{"line":17,"column":21},"end":{"line":17,"column":141}},"17":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"18":{"start":{"line":17,"column":109},"end":{"line":17,"column":141}},"19":{"start":{"line":18,"column":4},"end":{"line":18,"column":36}},"20":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"21":{"start":{"line":21,"column":0},"end":{"line":21,"column":62}},"22":{"start":{"line":22,"column":0},"end":{"line":22,"column":31}},"23":{"start":{"line":23,"column":18},"end":{"line":23,"column":36}},"24":{"start":{"line":24,"column":20},"end":{"line":24,"column":59}},"25":{"start":{"line":25,"column":19},"end":{"line":25,"column":64}},"26":{"start":{"line":26,"column":20},"end":{"line":26,"column":43}},"27":{"start":{"line":27,"column":23},"end":{"line":27,"column":56}},"28":{"start":{"line":30,"column":8},"end":{"line":30,"column":46}},"29":{"start":{"line":31,"column":8},"end":{"line":31,"column":29}},"30":{"start":{"line":32,"column":8},"end":{"line":32,"column":28}},"31":{"start":{"line":33,"column":8},"end":{"line":33,"column":35}},"32":{"start":{"line":34,"column":8},"end":{"line":34,"column":26}},"33":{"start":{"line":35,"column":8},"end":{"line":35,"column":27}},"34":{"start":{"line":38,"column":8},"end":{"line":48,"column":11}},"35":{"start":{"line":39,"column":35},"end":{"line":39,"column":44}},"36":{"start":{"line":42,"column":12},"end":{"line":43,"column":34}},"37":{"start":{"line":43,"column":16},"end":{"line":43,"column":34}},"38":{"start":{"line":44,"column":12},"end":{"line":45,"column":35}},"39":{"start":{"line":45,"column":16},"end":{"line":45,"column":35}},"40":{"start":{"line":46,"column":35},"end":{"line":46,"column":81}},"41":{"start":{"line":47,"column":12},"end":{"line":47,"column":47}},"42":{"start":{"line":51,"column":8},"end":{"line":54,"column":11}},"43":{"start":{"line":52,"column":35},"end":{"line":52,"column":83}},"44":{"start":{"line":53,"column":12},"end":{"line":53,"column":47}},"45":{"start":{"line":57,"column":8},"end":{"line":66,"column":11}},"46":{"start":{"line":58,"column":43},"end":{"line":58,"column":51}},"47":{"start":{"line":60,"column":12},"end":{"line":63,"column":13}},"48":{"start":{"line":61,"column":16},"end":{"line":62,"column":100}},"49":{"start":{"line":64,"column":35},"end":{"line":64,"column":75}},"50":{"start":{"line":65,"column":12},"end":{"line":65,"column":47}},"51":{"start":{"line":69,"column":8},"end":{"line":72,"column":11}},"52":{"start":{"line":70,"column":35},"end":{"line":70,"column":82}},"53":{"start":{"line":71,"column":12},"end":{"line":71,"column":47}},"54":{"start":{"line":75,"column":8},"end":{"line":78,"column":11}},"55":{"start":{"line":76,"column":35},"end":{"line":76,"column":92}},"56":{"start":{"line":77,"column":12},"end":{"line":77,"column":47}},"57":{"start":{"line":81,"column":0},"end":{"line":81,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":5,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":58},"end":{"line":4,"column":59}},"loc":{"start":{"line":4,"column":69},"end":{"line":4,"column":85}},"line":4},"2":{"name":"(anonymous_2)","decl":{"start":{"line":5,"column":6},"end":{"line":5,"column":7}},"loc":{"start":{"line":5,"column":28},"end":{"line":8,"column":1}},"line":5},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":80},"end":{"line":9,"column":81}},"loc":{"start":{"line":9,"column":95},"end":{"line":11,"column":1}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":5},"end":{"line":11,"column":6}},"loc":{"start":{"line":11,"column":20},"end":{"line":13,"column":1}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":50},"end":{"line":14,"column":51}},"loc":{"start":{"line":14,"column":65},"end":{"line":20,"column":1}},"line":14},"6":{"name":"(anonymous_6)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":18},"end":{"line":36,"column":5}},"line":29},"7":{"name":"(anonymous_7)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":20},"end":{"line":49,"column":5}},"line":37},"8":{"name":"(anonymous_8)","decl":{"start":{"line":38,"column":29},"end":{"line":38,"column":30}},"loc":{"start":{"line":38,"column":49},"end":{"line":48,"column":9}},"line":38},"9":{"name":"(anonymous_9)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":19},"end":{"line":55,"column":5}},"line":50},"10":{"name":"(anonymous_10)","decl":{"start":{"line":51,"column":32},"end":{"line":51,"column":33}},"loc":{"start":{"line":51,"column":52},"end":{"line":54,"column":9}},"line":51},"11":{"name":"(anonymous_11)","decl":{"start":{"line":56,"column":4},"end":{"line":56,"column":5}},"loc":{"start":{"line":56,"column":26},"end":{"line":67,"column":5}},"line":56},"12":{"name":"(anonymous_12)","decl":{"start":{"line":57,"column":98},"end":{"line":57,"column":99}},"loc":{"start":{"line":57,"column":118},"end":{"line":66,"column":9}},"line":57},"13":{"name":"(anonymous_13)","decl":{"start":{"line":68,"column":4},"end":{"line":68,"column":5}},"loc":{"start":{"line":68,"column":17},"end":{"line":73,"column":5}},"line":68},"14":{"name":"(anonymous_14)","decl":{"start":{"line":69,"column":41},"end":{"line":69,"column":42}},"loc":{"start":{"line":69,"column":61},"end":{"line":72,"column":9}},"line":69},"15":{"name":"(anonymous_15)","decl":{"start":{"line":74,"column":4},"end":{"line":74,"column":5}},"loc":{"start":{"line":74,"column":18},"end":{"line":79,"column":5}},"line":74},"16":{"name":"(anonymous_16)","decl":{"start":{"line":75,"column":34},"end":{"line":75,"column":35}},"loc":{"start":{"line":75,"column":54},"end":{"line":78,"column":9}},"line":75}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":8,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":8,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":8,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":5,"column":1}},{"start":{"line":5,"column":6},"end":{"line":8,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":33}},{"start":{"line":6,"column":4},"end":{"line":6,"column":33}}],"line":6},"4":{"loc":{"start":{"line":9,"column":25},"end":{"line":13,"column":2}},"type":"binary-expr","locations":[{"start":{"line":9,"column":26},"end":{"line":9,"column":30}},{"start":{"line":9,"column":34},"end":{"line":9,"column":57}},{"start":{"line":9,"column":63},"end":{"line":13,"column":1}}],"line":9},"5":{"loc":{"start":{"line":9,"column":63},"end":{"line":13,"column":1}},"type":"cond-expr","locations":[{"start":{"line":9,"column":80},"end":{"line":11,"column":1}},{"start":{"line":11,"column":5},"end":{"line":13,"column":1}}],"line":9},"6":{"loc":{"start":{"line":14,"column":19},"end":{"line":20,"column":1}},"type":"binary-expr","locations":[{"start":{"line":14,"column":20},"end":{"line":14,"column":24}},{"start":{"line":14,"column":28},"end":{"line":14,"column":45}},{"start":{"line":14,"column":50},"end":{"line":20,"column":1}}],"line":14},"7":{"loc":{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":42}},{"start":{"line":15,"column":4},"end":{"line":15,"column":42}}],"line":15},"8":{"loc":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":11}},{"start":{"line":15,"column":15},"end":{"line":15,"column":29}}],"line":15},"9":{"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":141}},{"start":{"line":17,"column":4},"end":{"line":17,"column":141}}],"line":17},"10":{"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},"type":"if","locations":[{"start":{"line":17,"column":40},"end":{"line":17,"column":141}},{"start":{"line":17,"column":40},"end":{"line":17,"column":141}}],"line":17},"11":{"loc":{"start":{"line":17,"column":44},"end":{"line":17,"column":107}},"type":"binary-expr","locations":[{"start":{"line":17,"column":44},"end":{"line":17,"column":59}},{"start":{"line":17,"column":63},"end":{"line":17,"column":107}}],"line":17},"12":{"loc":{"start":{"line":42,"column":12},"end":{"line":43,"column":34}},"type":"if","locations":[{"start":{"line":42,"column":12},"end":{"line":43,"column":34}},{"start":{"line":42,"column":12},"end":{"line":43,"column":34}}],"line":42},"13":{"loc":{"start":{"line":44,"column":12},"end":{"line":45,"column":35}},"type":"if","locations":[{"start":{"line":44,"column":12},"end":{"line":45,"column":35}},{"start":{"line":44,"column":12},"end":{"line":45,"column":35}}],"line":44},"14":{"loc":{"start":{"line":60,"column":12},"end":{"line":63,"column":13}},"type":"if","locations":[{"start":{"line":60,"column":12},"end":{"line":63,"column":13}},{"start":{"line":60,"column":12},"end":{"line":63,"column":13}}],"line":60}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":1,"12":2,"13":2,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":3,"36":3,"37":1,"38":3,"39":1,"40":3,"41":3,"42":1,"43":5,"44":5,"45":1,"46":6,"47":6,"48":1,"49":5,"50":5,"51":1,"52":6,"53":6,"54":1,"55":3,"56":3,"57":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":2,"6":1,"7":1,"8":3,"9":1,"10":5,"11":1,"12":6,"13":1,"14":6,"15":1,"16":3},"b":{"0":[1,1,1],"1":[1,0],"2":[0,0],"3":[0,0],"4":[1,1,1],"5":[1,0],"6":[1,1,1],"7":[2,0],"8":[2,2],"9":[0,0],"10":[0,0],"11":[0,0],"12":[1,2],"13":[1,2],"14":[1,5]},"inputSourceMap":{"version":3,"file":"/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/matches.router.ts","sources":["/Users/gabrielgaspar/Documents/Dev/on-going-projects/sd-014-c-trybe-futebol-clube/app/backend/src/routers/matches.router.ts"],"names":[],"mappings":"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","sourcesContent":["import { Request, Response, Router } from 'express';\nimport * as middlewares from '../middlewares';\nimport * as joiSchemas from '../utils/joi.schemas';\nimport { IMatchesService } from '../interfaces';\nimport { matchesFactory } from '../factories';\n\nconst matchesService: IMatchesService = matchesFactory();\n\nexport class MatchesRouter {\n  public router: Router;\n\n  constructor() {\n    this.router = Router();\n    this.getAllMatches();\n    this.getMatchById();\n    this.saveMatchInProgress();\n    this.finisMatch();\n    this.updateScore();\n  }\n\n  private getAllMatches(): void {\n    this.router.get(\n      '/',\n      async (req: Request, res: Response) => {\n        const { inProgress } = req.query;\n        let inProgBool: boolean | undefined;\n        // look for a way to improve this 👇\n        if (inProgress === 'true') inProgBool = true;\n        if (inProgress === 'false') inProgBool = false;\n\n        const { code, data } = await matchesService.getAllMatches(inProgBool);\n        return res.status(code).json(data);\n      },\n    );\n  }\n\n  private getMatchById(): void {\n    this.router.get(\n      '/:id',\n      async (req: Request, res: Response) => {\n        const { code, data } = await matchesService.getMatchById(req.params.id);\n\n        return res.status(code).json(data);\n      },\n    );\n  }\n\n  private saveMatchInProgress(): void {\n    this.router.post(\n      '/',\n      middlewares.jwtAuth,\n      middlewares.validateBody(joiSchemas.newMatch),\n      async (req: Request, res: Response) => {\n        const { homeTeam, awayTeam } = req.body;\n        // Try to move this validation to Joi\n        if (homeTeam === awayTeam) {\n          return res.status(409)\n            .json({ message: 'It is not possible to create a match with two equal teams' });\n        }\n\n        const { code, data } = await matchesService.saveMatch(req.body);\n\n        return res.status(code).json(data);\n      },\n    );\n  }\n\n  private finisMatch(): void {\n    this.router.patch(\n      '/:id/finish',\n      async (req: Request, res: Response) => {\n        const { code, data } = await matchesService.finishMatch(req.params.id);\n\n        return res.status(code).json(data);\n      },\n    );\n  }\n\n  private updateScore(): void {\n    this.router.patch(\n      '/:id',\n      async (req: Request, res: Response) => {\n        const { code, data } = await matchesService.updateScore(req.params.id, req.body);\n\n        return res.status(code).json(data);\n      },\n    );\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a02f92767405ee361f587efc547653ea0a89cc35","contentHash":"8ca22f5161ab20b2b52cc0efd047555b0e32589f241f7191420e9f90fe8e2a0d"}}